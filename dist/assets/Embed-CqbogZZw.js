import{b as v,x as $,o as x,G as _,t as n,i as d,c as y,k as m,l as p,S as w,p as u}from"./index-CNe0vCeo.js";var S=n("<iframe width=100% height=100%>"),C=n('<div class="group relative size-full"><div class="bg-secondary-05 border-secondary-10 absolute top-1 left-1 flex items-center gap-1 rounded border p-1 opacity-0 transition-all group-hover:opacity-100"><img class=size-4><p class="text-secondary-50 truncate text-xs">'),E=n(`<span class="text-secondary-30 m-auto">insert an iframe in this card's settings.`);function z({toolEvents:i,card:s,data:g,store:f}){const[e,b]=v(g),o=$(()=>new URL(e().src)),l=()=>{const t={tool:"Embed",card:s.data.name,save:()=>{f.set(s.id,e())},options:[{type:"longtext",label:"IFrame",description:"embed an iframe",attributes:{placeholder:"src..."},value:e().src,onAction:a=>{u.events.emit("character-add-achievement","ðŸŒ Portal Opened"),b(r=>({...r,src:a}))}}]};u.events.emit("tool-settings",t)};return x(()=>{i.on(`${s.id}-settings`,l)}),_(()=>{i.off(`${s.id}-settings`,l)}),(()=>{var t=C(),a=t.firstChild,r=a.firstChild,h=r.nextSibling;return d(t,y(w,{get when(){return e().src},get fallback(){return E()},get children(){var c=S();return m(()=>p(c,"src",e().src)),c}}),a),d(h,()=>o().hostname),m(()=>p(r,"src",`${o().origin}/favicon.ico`)),t})()}export{z as default};
