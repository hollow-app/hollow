import{c as s,m as A,I as q,b as N,o as z,d as v,G as M,t as l,i as r,f as E,j as L,S as f,F as j,k as w,l as k,Y as I,X as V,q as D,V as F}from"./index-CNe0vCeo.js";var H=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],R=a=>s(q,A(a,{iconNode:H,name:"square-arrow-out-up-right"})),Y=R;const G=(a,o)=>{const[c,d]=N([]);return z(()=>{v.notify.subscribe(i=>{d([...i])},{key:"notifications",now:!0}),M(()=>{})}),{notifications:c,setNotifications:d}},O=(a,o,c)=>({removeNoty:n=>{a.setNotifications(p=>[...p.filter(h=>h.id!==n)]),v.notify.removeNoty(n)},clearAll:()=>{o.hide(),a.setNotifications([]),v.notify.clearAll()}});var P=l('<button class=button-control title="Clear All">'),U=l('<div class="w-ful box-border flex h-full flex-col gap-3 px-3 py-5"><div class="flex items-center justify-between"><p class="text-secondary-40 px-3 text-sm tracking-wider">Notifications</p></div><hr class="border-secondary bg-secondary-10 h-[2px] w-full"><div class="flex max-h-full flex-1 flex-col gap-3 overflow-hidden overflow-y-scroll">'),X=l('<span class="text-secondary-50 m-auto text-center tracking-tighter">You have no notifications'),B=l('<div class="border-secondary-15 bg-secondary-10 mb-2 overflow-hidden rounded-lg border"><img class="h-24 w-full object-cover transition"loading=lazy>',!0,!1,!1),J=l('<a target=_blank class="text-secondary-90 hover:text-secondary-100 flex min-w-0 items-center gap-2 text-sm font-semibold outline-none"><span class=truncate>'),K=l('<div class="border-secondary-10 text-secondary-60 mt-2 border-t pt-2 text-sm"><p class=leading-relaxed>'),Q=l('<div class="border-secondary-15/60 bg-secondary-05 pointer-events-auto w-full rounded-xl border px-3 py-2.5 transition"><div class="flex items-center gap-3"><div class="min-w-0 flex-1"><p class="text-secondary-40 mt-0.5 text-[11px]"></p></div><div class="flex items-center gap-1"><button class="text-secondary-40 hover:bg-secondary-10 hover:text-secondary-80 rounded-md p-1.5"></button><button class="text-secondary-40 hover:bg-secondary-10 hover:text-secondary-80 rounded-md p-1.5 transition">'),T=l('<h1 class="text-secondary-90 truncate text-sm font-semibold">');const W=(a,o,c,d)=>(()=>{var i=U(),n=i.firstChild;n.firstChild;var p=n.nextSibling,h=p.nextSibling;return r(n,s(f,{get when(){return a.notifications().length>0},get children(){var t=P();return E(t,"click",o.clearAll,!0),r(t,s(L,{name:"broom-outline",class:"ml-auto size-5"})),t}}),null),r(h,s(f,{get when(){return a.notifications().length!==0},get fallback(){return X()},get children(){return s(j,{get each(){return a.notifications()},children:t=>{const[b,C]=N(!1);return(()=>{var m=Q(),y=m.firstChild,g=y.firstChild,_=g.firstChild,S=g.nextSibling,x=S.firstChild,$=x.nextSibling;return r(m,s(f,{get when(){return t.banner},get children(){var e=B(),u=e.firstChild;return w(()=>k(u,"src",t.banner)),e}}),y),r(g,s(f,{get when(){return t.attachment},get fallback(){return(()=>{var e=T();return r(e,()=>t.title),e})()},get children(){var e=J(),u=e.firstChild;return r(u,()=>t.title),r(e,s(Y,{class:"size-3.5 opacity-60"}),null),w(()=>k(e,"href",t.attachment)),e}}),_),r(_,()=>new Date(t.submitted_at).toLocaleDateString()),x.$$click=()=>o.removeNoty(t.id),r(x,s(I,{class:"size-4"})),$.$$click=()=>C(e=>!e),r($,s(V,{class:"size-4 transition-transform",get classList(){return{"rotate-180":b()}}})),r(m,s(f,{get when(){return b()},get children(){var e=K(),u=e.firstChild;return r(u,()=>t.message),e}}),null),m})()}})}})),i})();D(["click"]);const Z=a=>({}),te=F({create:a=>{const o=Z(),c=G(),d=O(c,a);return{helper:o,state:c,logic:d,view:(i,n,p,h)=>W(i,n)}}});export{te as default};
