import{c as t,m as w,I as C,b as y,t as j,i as l,aj as T,g as E,j as N,S as D,k as H,l as I,p as d,q as F,x as L,a0 as O,a6 as A,F as B}from"./index-CNe0vCeo.js";import{T as G}from"./ToolIcon-B6XvFYjZ.js";import{p as q}from"./plus-BNtfGbMo.js";var U=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]],V=e=>t(C,w(e,{iconNode:U,name:"grid-2x2-plus"})),Z=V,R=[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"m16 16 5 5",key:"8tpb07"}],["path",{d:"m16 21 5-5",key:"193jll"}]],X=e=>t(C,w(e,{iconNode:R,name:"grid-2x2-x"})),J=X,K=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Q=e=>t(C,w(e,{iconNode:K,name:"star"})),W=Q,Y=j('<div class="group card-config flex w-[calc(calc(var(--spacing)*104)-40px)] shrink-0 justify-between px-1 py-3"><div class="min-w-0 space-y-2"><div class="text-secondary-30 flex w-fit items-center gap-1"><span class="text-xs font-medium tracking-wide uppercase"></span></div><div class="flex items-center gap-3"><div class="border-secondary-10 hover:border-secondary-20 size-10 rounded border p-1 text-center text-2xl transition-colors"></div><span class="truncate font-medium text-neutral-800 dark:text-neutral-200"></span></div><div class="mt-3 flex items-center justify-between text-xs text-neutral-500"><p>Created: </p></div></div><div class="flex h-full flex-col items-end gap-3"><div class="mt-auto flex gap-5"><button class="text-secondary-30 size-4 cursor-pointer rounded transition-transform hover:rotate-12"></button><button class="text-secondary-30 card-config-place size-4 cursor-pointer rounded transition-transform hover:rotate-12">'),ee=j('<hr class="h-px w-full shrink-0 border-0"style="background:linear-gradient(to right, transparent, var(--color-secondary-10) 20%, transparent)">');function te({myCard:e,icon:i,index:x}){const[g,b]=y(e.data.isPlaced),[p,a]=y(e.data.isFavored),r=()=>{d.toolManager.togglePlacement(e.id,e.data.tool),b(!g())},n=async()=>{await d.toolManager.deleteCard([e.id],e.data.tool,!0)},f=async()=>{d.toolManager.setCard(e.data.tool,e.id,{isFavored:!p()}),a(!p())},$=c=>{d.toolManager.changeEmoji(c,e.id,e.data.tool)};return[(()=>{var c=Y(),m=c.firstChild,h=m.firstChild,v=h.firstChild,o=h.nextSibling,s=o.firstChild,u=s.nextSibling,P=o.nextSibling,_=P.firstChild;_.firstChild;var S=m.nextSibling,z=S.firstChild,k=z.firstChild,M=k.nextSibling;return l(h,t(G,{get toolName(){return i??e.data.tool},class:"size-4"}),v),l(v,()=>e.data.tool),l(s,t(T,{get emo(){return e.data.emoji},emoChanged:$})),l(u,()=>e.data.name),l(_,()=>E(e.data.CreatedDate),null),l(S,t(W,{class:"text-secondary-30 size-4 cursor-pointer rounded transition-transform hover:rotate-12",onclick:f,get classList(){return{"text-yellow-500 fill-yellow-500":p()}}}),z),k.$$click=n,l(k,t(N,{name:"trash",class:"size-4"})),M.$$click=r,l(M,t(D,{get when(){return g()},get fallback(){return t(Z,{class:"size-4"})},get children(){return t(J,{class:"text-secondary-20 size-4"})}})),H(()=>I(_,"title",e.data.CreatedDate)),c})(),ee()]}F(["click"]);var ae=j('<div class="my-2 size-full rounded-xl"><div class="flex h-full flex-col gap-3 px-3 py-3"><div class="flex items-center gap-3"><div class="relative flex-1"><input class="input peer ml-auto h-fit max-w-full transition-all duration-200"placeholder=Search style="--padding-x:calc(var(--spacing) * 10) calc(var(--spacing) * 3)"></div><button id=new-card-btn class="button-control border-secondary-10 border"></button></div><div class="w-full flex-1 overflow-hidden"><hr class="h-px w-full shrink-0 border-0"style="background:linear-gradient(to right, transparent , var(--color-secondary-10) 20%, transparent)"><div class="flex h-[calc(100%-2px)] flex-col gap-1 overflow-hidden overflow-y-auto"></div><hr class="h-px w-full shrink-0 border-0"style="background:linear-gradient(to right, transparent, var(--color-secondary-10), transparent)">');function oe(){const e=d.toolManager.getHand(),[i,x]=y({tools:[],favourite:!1,placed:!0,unplaced:!0}),g=L(()=>d.cards().filter(a=>i().tools.length===0||i().tools.includes(a.data.tool)).filter(a=>{const r=i();return!(r.favourite&&!a.data.isFavored||!r.placed&&a.data.isPlaced||!r.unplaced&&!a.data.isPlaced)})),b=()=>{const a=n=>{d.toolManager.addCard(n.name,n.tool.toLowerCase(),n.emoji)},r={id:crypto.randomUUID(),title:"Create Card",options:[{type:"dropdown",label:"Tool",key:"tool",inline:!0,description:"The tool that will be inside this card",placeholder:"Tool",options:[{items:Object.keys(e)}]},{type:"text",key:"name",inline:!0,label:"Card Name",attributes:{pattern:"^[A-Za-z]+$",placeholder:"Card name (e.g., ToDo)",title:"Only letters (A-Z, a-z) are allowed"}},{type:"emoji",label:"Emoji",value:"☂️",row:!0,description:"Give this card an emoji",key:"emoji"}],submit:a};d.events.emit("form",r)},p=a=>{x(r=>({...r,tools:a}))};return(()=>{var a=ae(),r=a.firstChild,n=r.firstChild,f=n.firstChild,$=f.firstChild,c=f.nextSibling,m=n.nextSibling,h=m.firstChild,v=h.nextSibling;return v.nextSibling,$.$$input=o=>x(s=>({...s,search:o.currentTarget.value})),l(f,t(O,{class:"text-secondary-30 peer-focus:text-secondary-50 absolute top-1/2 left-3 size-5 -translate-y-1/2 transition-colors"}),null),l(n,t(A,{options:()=>[{title:"status",isCheckBox:!0,items:[{label:"favourite",checked:i().favourite},{label:"placed",checked:i().placed},{label:"unplaced",checked:i().unplaced}],onSelect:o=>{const s=Object.fromEntries(["favourite","placed","unplaced"].map(u=>[u,o.includes(u)]));x(u=>({...u,...s}))}},{title:"Tool",isCheckBox:!0,items:Object.entries(e).map(([o,s])=>({label:s.name,checked:i().tools.includes(s.name)})),onSelect:p}]}),c),c.$$click=b,l(c,t(q,{class:"size-5 -rotate-90"})),l(v,t(B,{get each(){return g()},children:(o,s)=>t(te,{myCard:o,get icon(){return e[o.data.tool].icon},index:s})})),a})()}F(["input","click"]);export{oe as default};
