import{t as a,W as H,b as O,c as o,l as F,i as l,S as v,F as E,a1 as L,k as V,U as z,Z as A,q as D}from"./index-CNe0vCeo.js";var I=a('<svg xmlns=http://www.w3.org/2000/svg xml:space=preserve fill=currentColor viewBox="0 0 512 512"><path d="M85.333 0h320c35.285 0 64 28.715 64 64v320h21.334c11.797 0 21.333 9.557 21.333 21.333v21.333C512 473.728 473.728 512 426.667 512H213.334C166.272 512 128 473.728 128 426.667V213.334H21.333C9.536 213.334 0 203.777 0 192.001V85.333C0 38.272 38.272 0 85.333 0m277.334 106.667H320c-11.797 0-21.333 9.557-21.333 21.333s9.536 21.333 21.333 21.333h42.667c11.797 0 21.333-9.557 21.333-21.333s-9.536-21.333-21.333-21.333m0 85.333c-11.776 0-21.333 9.557-21.333 21.333s9.557 21.333 21.333 21.333S384 225.109 384 213.333 374.443 192 362.667 192m0 85.333H320c-11.797 0-21.333 9.557-21.333 21.333S308.203 320 320 320h42.667c11.797 0 21.333-9.557 21.333-21.333s-9.536-21.334-21.333-21.334m64 192c23.531 0 42.667-19.136 42.667-42.667H298.667c0 5.248-.64 10.325-1.557 15.317a67 67 0 0 1-.725 3.605c-1.109 4.864-2.496 9.621-4.395 14.123-.107.235-.235.469-.341.725-1.323 3.051-2.773 6.037-4.437 8.896zM234.667 320H256c11.797 0 21.333-9.557 21.333-21.333s-9.536-21.333-21.333-21.333h-21.333c-11.797 0-21.333 9.557-21.333 21.333S222.869 320 234.667 320m0-85.333h42.667c11.797 0 21.333-9.557 21.333-21.333S289.131 192 277.333 192h-42.667c-11.797 0-21.333 9.557-21.333 21.333s9.536 21.334 21.334 21.334m0-85.334H256c11.797 0 21.333-9.557 21.333-21.333s-9.536-21.333-21.333-21.333h-21.333c-11.797 0-21.333 9.557-21.333 21.333s9.535 21.333 21.333 21.333m-192 21.334H128V85.333c0-23.531-19.136-42.667-42.667-42.667S42.666 61.802 42.666 85.333v85.334z">');const M=(n={})=>(()=>{var u=I();return H(u,n,!0,!0),u})();var R=a('<div class="border-secondary-15 flex items-start gap-5 border-b border-dashed pb-5"><h3 class="bg-secondary-10 rounded px-2 text-sm font-medium tracking-wider text-neutral-500 uppercase">'),U=a('<form class="flex max-h-[85vh] w-[85vw] max-w-[800px] flex-col gap-4 px-5 pb-5"><div class="flex h-full flex-wrap overflow-x-hidden overflow-y-auto"></div><div class="bg-secondary-05 mt-auto flex h-fit w-full justify-end gap-5 rounded px-[3rem] py-5"><button class="button primary form-submit"type=submit></button><button class="button secondary">Cancel'),W=a('<span class="text-secondary-20 font-bold">[ i ]'),j=a("<span class=tool-tip-content data-side=right>"),q=a('<span class="text-primary-10 text-sm">*'),B=a('<div class="relative p-1 transition-all duration-200 ease-in-out"><div class="mb-2 flex w-[50%] items-center gap-2"><h2 class="flex gap-1 text-lg font-medium text-neutral-800 dark:text-neutral-200">');function Z({form:n,setForm:u,index:$}){const y="form-"+$(),[x,_]=O({...n.options.reduce((s,e)=>(s[e.key]=e.value,s),{}),id:n.id}),C=s=>{s.preventDefault();const e=x();n.options.some(r=>r.optional?!1:r.dependsOn?r.dependsOn.conditions.includes(e[r.dependsOn.key]&&!e[r.key]):!e[r.key])||(n.submit(e),f())},f=()=>{u(s=>s.filter(e=>e.id!==n.id))};return o(A,{get title(){return`Form: ${n.title}`},Icon:M,get children(){var s=U(),e=s.firstChild,r=e.nextSibling,g=r.firstChild,S=g.nextSibling;return s.addEventListener("submit",C),F(s,"id",y),l(s,o(v,{get when(){return n.description},get children(){var c=R(),m=c.firstChild;return l(m,()=>n.description),c}}),e),l(e,o(E,{get each(){return n.options},children:(c,m)=>{const t={...c,onAction:d=>{_(h=>({...h,[c.key]:d}))}},b=()=>t.dependsOn&&!t.dependsOn.conditions.includes(x()[t.dependsOn.key]);return(()=>{var d=B(),h=d.firstChild,p=h.firstChild;return l(p,()=>t.label,null),l(p,o(v,{get when(){return t.description},get children(){return[W(),(()=>{var i=j();return l(i,()=>t.description),i})()]}}),null),l(p,o(v,{get when(){return!t.optional},get children(){return q()}}),null),l(d,o(L,{option:t,index:m}),null),V(i=>{var k={hidden:b(),"my-2":!b(),"w-[50%]":t.inline,"w-full":!t.inline,"flex justify-between":t.row&&!t.inline},w=!!t.description;return i.e=z(d,k,i.e),w!==i.t&&p.classList.toggle("tool-tip",i.t=w),i},{e:void 0,t:void 0}),d})()}})),l(g,()=>n.update?"Update":"Submit"),S.$$click=f,s}})}D(["click"]);export{Z as default};
