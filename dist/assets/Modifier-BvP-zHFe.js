import{c as d,m as K,I as E,t as f,k as h,q as $,b as g,x as T,d as V,i,D as j,S as m,p as M}from"./index-CNe0vCeo.js";var L=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],P=t=>d(E,K(t,{iconNode:L,name:"key"})),q=P,z=f('<textarea class="input h-full w-full resize-none font-mono text-sm text-neutral-900"placeholder="Enter JSON value"style="--padding-y:calc(var(--spacing) * 2);--padding-x:calc(var(--spacing) * 5) calc(var(--spacing) * 2)">');function D(t){const u=l=>{if(l.ctrlKey&&l.key==="Enter"){const a=l.currentTarget;try{const o=JSON.parse(a.value);a.value=JSON.stringify(o,null,2)}catch(o){console.error(o)}}};return(()=>{var l=z();return l.$$input=a=>t.setValue(a.currentTarget.value),l.$$keydown=u,h(()=>l.value=t.value),l})()}$(["keydown","input"]);var R=f('<div class="flex flex-1 flex-col space-y-2"><div class="flex items-center justify-between"><label for=value class="block text-sm font-medium text-neutral-700 dark:text-neutral-200">Value (JSON)</label><span class="text-xs text-neutral-500 dark:text-neutral-400">Press Ctrl+Enter to format</span></div><div class="relative flex-1">'),F=f('<div class="rounded-lg bg-red-50 p-3 dark:bg-red-900/20"><p class="text-sm text-red-600 dark:text-red-400">'),A=f('<div class="flex h-full w-full flex-col gap-2 p-10"><div class="flex-1 overflow-hidden"><div class="flex h-full flex-col space-y-2 text-neutral-700 dark:text-neutral-200"><div class="flex flex-col gap-3"><div><label for=key class="text-5xl font-extrabold text-neutral-950 dark:text-neutral-50">Modifier</label><p class="text-sm text-neutral-600 dark:text-neutral-400">Manually modify the local storage of any realm.</p></div><div class="flex w-full gap-1"><div class="relative w-full"><input id=key type=text class=input placeholder="Enter localStorage key"style="--padding-y:calc(var(--spacing) * 2);--padding-x:calc(var(--spacing) * 10) calc(var(--spacing) * 2);--bg-color:var(--secondary-color-10);--bg-color-f:var(--secondary-color-15)"></div><div class=w-[50%]></div></div></div></div></div><div class="bg-secondary-05 mt-auto flex w-full justify-end gap-2 rounded-xl p-5"><button class="button primary w-full">Save Changes');const B=["color-primary","color-secondary"];function H(){const[t,u]=g(""),[l,a]=g(""),[o,s]=g(""),k=T(()=>V.realm.currentRealmId),b=r=>{const e=r.currentTarget.value;u(e),y()},y=()=>{const r=t();if(r)try{const e=localStorage.getItem(r);if(e){const n=JSON.parse(e);a(JSON.stringify(n,null,2)),s("")}else a(""),s("No value found for this key")}catch{const n=localStorage.getItem(r)||"";s("Invalid JSON in localStorage"),a(n)}else a(""),s("")},S=r=>{if(!t()){s("Please enter a key");return}try{const e=r.currentTarget;e.classList.add("debounce"),localStorage.setItem(t(),l()),M.events.emit("alert",{title:"Saved",message:"successfully",type:"success",onTimeOut:()=>{e.classList.remove("debounce")}}),s("")}catch{s("Invalid JSON format")}};return(()=>{var r=A(),e=r.firstChild,n=e.firstChild,_=n.firstChild,w=_.firstChild,C=w.nextSibling,v=C.firstChild,x=v.firstChild,N=v.nextSibling,O=e.nextSibling,I=O.firstChild;return x.$$input=b,i(v,d(q,{class:"absolute top-3 left-3 size-5"}),null),i(N,d(j,{placeholder:"Select Key",options:[{items:B}],onSelect:c=>{u(`${k()}-${c}`),y()}})),i(n,d(m,{get when(){return t()},get children(){var c=R(),p=c.firstChild,J=p.nextSibling;return i(J,d(D,{get value(){return l()},setValue:a})),c}}),null),i(n,d(m,{get when(){return o()},get children(){var c=F(),p=c.firstChild;return i(p,o),c}}),null),I.$$click=S,h(()=>x.value=t()),r})()}$(["input","click"]);export{H as default};
