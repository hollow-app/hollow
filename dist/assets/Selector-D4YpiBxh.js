import{c as e,m as O,I as q,a as ge,b as F,d as A,S as C,t as x,i,P as be,L as $e,e as we,f as U,M as L,F as ie,g as _e,h as ke,j as Se,k as E,s as g,l as Ce,o as Fe,D as se,C as le,n as Re,p as ne,q as De,r as Ae,u as ae,v as Ee}from"./index-CNe0vCeo.js";import{W as je,H as oe}from"./WindowControl-B5mh8XsY.js";import{p as ze}from"./panda-D0oBgoIU.js";import{p as Le}from"./plus-BNtfGbMo.js";var Me=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pe=s=>e(q,O(s,{iconNode:Me,name:"arrow-left"})),Ne=Pe,Te=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ie=s=>e(q,O(s,{iconNode:Te,name:"calendar"})),Be=Ie,He=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],We=s=>e(q,O(s,{iconNode:He,name:"rocket"})),ce=We,Oe=x('<div class="relative flex w-fit flex-col items-center select-none"><div class=rotate-[10deg]><h1 class="mt-8 text-6xl font-black tracking-tight text-white">Hello, adventurer!</h1><h1 class="text-secondary-60 mt-2 w-150 text-lg tracking-widest uppercase">Hollow is ready to help you explore, imagine, and create. Letâ€™s dive in!</h1></div><button class="button primary mt-7 ml-auto flex items-center gap-3 text-black"><span class="relative z-10">Start'),qe=x('<div class="title-panel flex items-center justify-between"><h1 class=h1-title>Realms</h1><button class="button empty flex items-center gap-1 tracking-wide text-white"style="--bg-color:color-mix(in oklab, var(--color-secondary-20) 100% , black 30%);--border-color:var(--color-secondary-20);--hover-bg-color:color-mix(in oklab, var(--color-secondary-20) 100% , black 50%);--hover-border-color:color-mix(in oklab, var(--color-secondary-30) 100% , black 50%)">New realm'),Ue=x('<div class="flex-1 overflow-y-auto p-8"><div class="grid gap-4">'),Ye=x('<div class="relative flex items-center justify-between"><div class="flex gap-6"><div class="flex h-20 w-12 items-center justify-center rounded-md border-b-2"></div><div class="my-auto flex flex-col gap-1"><div class="flex items-center gap-3"><h2 class="text-lg font-medium text-white"></h2><div class="flex gap-1.5"><div class="h-2.5 w-2.5 rounded-full"title="Primary color"></div><div class="h-2.5 w-2.5 rounded-full"title="Secondary color"></div></div></div><div class="text-secondary-60 flex flex-col gap-1 text-xs tracking-wider uppercase"><div class="flex gap-1"><span></span></div><span>Created </span></div></div></div><div class="flex flex-col items-center gap-1"><button class=button-control style=--color:var(--color-secondary-50);--bg:var(--color-secondary-30)></button><button class="button-control red">'),Ze=x('<div class="title-panel flex items-center gap-2"><button class="text-secondary-60 rounded-full p-2 transition-colors hover:bg-white/5 hover:text-white"></button><h1 class=h1-title>Create realm'),Ge=x('<span class="text-secondary-50 truncate text-xs">[<!>]'),Ve=x(`<div class="flex flex-1 gap-5 px-5"><div class="border-secondary-10 flex w-[400px] flex-col gap-8 border-r border-dashed py-5 pr-5"><div class="flex h-full flex-col gap-6 py-5"><div class="flex flex-col gap-2"><label class="text-secondary-60 text-sm font-medium tracking-wider uppercase">Realm Name <span class="text-primary text-xs">*</span></label><input placeholder="e.g., saturn"pattern=^[A-Za-z]+$ title="e.g., Dark, light, sky..."class=input></div><div class="flex items-center justify-between"><label class="text-secondary-60 flex flex-col text-sm font-medium tracking-wider uppercase"><div>Location<span class="text-primary text-xs">*</span></div></label><button class="button secondary">Select</button></div><div class="flex items-center justify-between"><label class="text-secondary-60 text-sm font-medium tracking-wider uppercase">Themes</label><div class=w-50></div></div><div class="flex items-center justify-between"><label class="text-secondary-60 text-sm font-medium tracking-wider uppercase">Primary Color</label></div><div class="flex items-center justify-between"><label class="text-secondary-60 text-sm font-medium tracking-wider uppercase">Secondary Color</label></div></div><button class="button empty mt-auto ml-auto flex items-center gap-1 tracking-wide text-white"style="--bg-color:var(--color-secondary-10);--border-color:var(--color-secondary-20);--hover-bg-color:color-mix(in oklab, var(--color-secondary-20) 100% , black 50%);--hover-border-color:color-mix(in oklab, var(--color-secondary-30) 100% , black 50%)">Create Realm</button></div><div class="flex h-fit items-center justify-center pt-5"><div class="m-auto flex flex-col gap-6"><div class="border-secondary-05 relative h-64 w-96 overflow-hidden rounded-2xl border shadow-xl"><div class="relative flex items-center justify-between p-4"><div class="flex items-center gap-2"><span class="text-sm font-medium"></span></div><div class="h-2 w-2 rounded-full"></div></div><div class="relative flex h-full flex-col items-center justify-center p-6"><div class="rounded-2xl border bg-black/10 p-4"><div class="flex items-center gap-3"><div class="h-8 w-8 rounded-lg"></div><div class=space-y-1><div class="h-2 w-24 rounded"></div><div class="h-2 w-16 rounded"></div></div></div></div></div></div><div class="text-secondary-50 text-center text-sm">Preview of your realm's appearance`),Je=x('<div class="title-panel flex items-center gap-2"><h1 class=h1-title>Character Sheet'),Ke=x('<span class="text-secondary-20 w-full pt-10 text-center text-sm tracking-widest">AVATAR'),Qe=x('<div class="flex flex-col gap-3 p-3"><div class="flex justify-between"><p class="text-secondary-40 text-sm tracking-wider">Wait. You there. Step forward. Who are you?</p><span class="text-secondary-40 tool-tip text-sm tracking-wider"><span class=tool-tip-content data-side=right>The Characters feature is currently experimental. It doesnâ€™t serve a specific purpose yet, but we wanted to introduce it and explore its potential. If, over time, it doesnâ€™t provide value to most users, we may decide to remove it.</span>[ i ]</span></div><hr class="border-secondary bg-secondary-10/50 h-[2px] w-full"><div class="flex gap-5"><div class="border-secondary-10 flex size-40 shrink-0 flex-col justify-between rounded border p-2"style=background-size:cover><input class="input mt-auto"placeholder=https://></div><div class="flex h-40 w-full flex-col justify-around gap-2"><div class="w-full space-y-2"><h2 class="text-sm tracking-widest text-neutral-500 uppercase">Name</h2><input class=input placeholder="All realms remember a name"></div><div class="w-full space-y-2"><h2 class="text-sm tracking-widest text-neutral-500 uppercase">Title</h2></div></div></div><div class=space-y-2><h2 class="text-sm tracking-widest text-neutral-500 uppercase">Description</h2><textarea class="input resize-none"placeholder="Your tale begins here"></textarea></div><hr class="border-secondary bg-secondary-10/50 mx-auto h-[2px] w-full"><div class="flex w-full flex-wrap items-center gap-2"><h2 class="text-sm tracking-widest text-neutral-500 uppercase">achievements :</h2></div><hr class="border-secondary bg-secondary-10/50 mx-auto h-[2px] w-full">'),Xe=x('<div class="mx-5 mb-5 flex gap-2"><button class="button primary"style=--w:100%>Save</button><button class="button secondary"style=--w:100%>Skip'),et=x('<span class="bg-secondary-10 text-secondary-70 rounded px-2">'),tt=x('<div class="bg-secondary flex h-full w-full items-center justify-center"><div class="absolute top-2 right-2 z-10"></div><div class="flex h-[90%] w-[95%] items-center justify-center"><div class="h-fit w-fit">');const W={dark:[{name:"Midnight Ink",primary:"#E6EDF3",secondary:"#0E1116"},{name:"Graphite",primary:"#D1D5DB",secondary:"#15181D"},{name:"Sepia Night",primary:"#E7D8C5",secondary:"#1A1410"},{name:"OLED Paper",primary:"#FFFFFF",secondary:"#000000"},{name:"Deep Navy",primary:"#DCE6F0",secondary:"#0B1220"}],light:[{name:"Paper",primary:"#1F2937",secondary:"#FAFAF7"},{name:"Parchment",primary:"#3A2F2A",secondary:"#F4ECD8"},{name:"Ivory",primary:"#2A2A2A",secondary:"#FFFDF7"},{name:"Sepia",primary:"#4B3621",secondary:"#F6EFE4"},{name:"Cloud",primary:"#1E293B",secondary:"#F3F4F6"},{name:"Mint Paper",primary:"#1F3A2E",secondary:"#F0FAF6"}]},de=()=>{const[s,d]=F(""),[n,u]=F(""),[t,r]=F("#FF0033"),[v,p]=F("#000000");return{name:s,setName:d,location:n,setLocation:u,primary:t,setPrimary:r,secondary:v,setSecondary:p,createRealm:()=>{if(!s()||!n())return!1;const h={id:crypto.randomUUID(),name:s(),location:n(),lastEntered:new Date().toISOString(),createdDate:new Date().toISOString(),colors:{primary:t(),secondary:v()}};return A.realm.addRealm(h),!0},removeRealm:(h,w)=>{var b;const _=()=>{A.realm.removeRealm(h),w(k=>k.filter(o=>o.id!==h))};ne.events.emit("confirm",{title:"warning",message:`Are you sure you want to remove ${(b=A.realm.getRealmFromId(h))==null?void 0:b.name} Realm?`,onAccept:_})}}},rt=s=>e(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},class:"relative flex h-full w-full items-center justify-center",get children(){var d=Oe(),n=d.firstChild,u=n.nextSibling,t=u.firstChild;return U(u,"click",s.onNext,!0),i(u,e(ce,{class:"hidden size-5"}),t),d}}),lt=s=>{const{removeRealm:d}=de();return e(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},class:"up-pop flex h-170 w-160 flex-col overflow-hidden",style:{"--bg-color":"var(--color-secondary)","--border-color":"var(--color-secondary-10)","--position":"relative"},get children(){return[(()=>{var n=qe(),u=n.firstChild,t=u.nextSibling,r=t.firstChild;return U(t,"click",s.onBack,!0),i(t,e(Le,{class:"h-4 w-4"}),r),n})(),(()=>{var n=Ue(),u=n.firstChild;return i(u,e(ie,{get each(){return s.realms()},children:t=>e(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},class:"group relative overflow-hidden rounded-xl bg-white/5 p-6",get children(){var r=Ye(),v=r.firstChild,p=v.firstChild,y=p.nextSibling,$=y.firstChild,h=$.firstChild,w=h.nextSibling,_=w.firstChild,b=_.nextSibling,k=$.nextSibling,o=k.firstChild,c=o.firstChild,f=o.nextSibling;f.firstChild;var R=v.nextSibling,S=R.firstChild,m=S.nextSibling;return i(p,e(oe,{class:"size-8",get style(){return{color:t.colors.primary}}})),i(h,()=>t.name),i(o,e(Be,{class:"h-3 w-3"}),c),i(c,()=>_e(t.lastEntered)),i(f,()=>ke(t.createdDate),null),S.$$click=()=>s.onSelect(t.id),i(S,e(ce,{})),m.$$click=()=>d(t.id,s.setRealms),i(m,e(Se,{name:"trash",class:"size-5"})),E(a=>{var D=`color-mix(in oklab, ${t.colors.secondary}, transparent)`,M=t.colors.secondary,j=t.colors.primary,P=t.colors.secondary,N=t.lastEntered;return D!==a.e&&g(p,"background",a.e=D),M!==a.t&&g(p,"border-color",a.t=M),j!==a.a&&g(_,"background-color",a.a=j),P!==a.o&&g(b,"background-color",a.o=P),N!==a.i&&Ce(c,"title",a.i=N),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),r}})})),n})()]}})},at=s=>{const{name:d,setName:n,location:u,setLocation:t,primary:r,setPrimary:v,secondary:p,setSecondary:y,createRealm:$}=de(),h=()=>{$()&&s.onSuccess()},w=Object.entries(W).flatMap(([o,c])=>c),_=o=>{const c=w.find(f=>f.name===o);Re(()=>{v(c.primary),y(c.secondary)})};let b=null;const k=async()=>{if(!b)return;const o=await Ee({directory:!0,multiple:!1,title:"Select Realm Location"});if(!o)return;const c=o.replace(/\\/g,"/"),f=b.replace(/\\/g,"/");if(!c.startsWith(f+"/")&&c!==f){ne.events.emit("alert",{type:"warning",title:"Invalid Location",message:"Please select a folder inside your home directory."});return}t(o)};return Fe(async()=>{b=await Ae()}),e(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},class:"up-pop flex h-fit w-210 flex-col overflow-hidden",style:{"--bg-color":"var(--color-secondary)","--border-color":"var(--color-secondary-10)","--position":"relative"},get children(){return[(()=>{var o=Ze(),c=o.firstChild;return U(c,"click",s.onBack,!0),i(c,e(Ne,{class:"h-5 w-5"})),o})(),(()=>{var o=Ve(),c=o.firstChild,f=c.firstChild,R=f.firstChild,S=R.firstChild,m=S.nextSibling,a=R.nextSibling,D=a.firstChild;D.firstChild;var M=D.nextSibling,j=a.nextSibling,P=j.firstChild,N=P.nextSibling,I=j.nextSibling;I.firstChild;var Y=I.nextSibling;Y.firstChild;var ue=f.nextSibling,me=c.nextSibling,ve=me.firstChild,Z=ve.firstChild,G=Z.firstChild,B=G.firstChild,H=B.firstChild,pe=B.nextSibling,he=G.nextSibling,V=he.firstChild,fe=V.firstChild,J=fe.firstChild,xe=J.nextSibling,K=xe.firstChild,ye=K.nextSibling;return m.$$input=l=>{/^[A-Za-z]+$/.test(l.currentTarget.value)&&n(l.currentTarget.value)},i(D,e(C,{get when(){return u()},get children(){var l=Ge(),T=l.firstChild,z=T.nextSibling;return z.nextSibling,i(l,u,z),l}}),null),M.$$click=k,i(N,e(se,{get options(){return[{title:"Light",items:W.light.map(l=>l.name)},{title:"Dark",items:W.dark.map(l=>l.name)}]},onSelect:_,placeholder:"Select A Theme",visibleOnSelect:!0})),i(I,e(le,{get color(){return r()},setColor:v,direct:!0}),null),i(Y,e(le,{get color(){return p()},setColor:y,direct:!0}),null),ue.$$click=h,i(B,e(oe,{class:"h-5 w-5",get style(){return{color:r()}}}),H),i(H,()=>d()||"NEW REALM"),E(l=>{var T=p(),z=r(),Q=r(),X=`${r()}40`,ee=r(),te=`${r()}40`,re=`${r()}20`;return T!==l.e&&g(Z,"background",l.e=T),z!==l.t&&g(H,"color",l.t=z),Q!==l.a&&g(pe,"background",l.a=Q),X!==l.o&&g(V,"border-color",l.o=X),ee!==l.i&&g(J,"background",l.i=ee),te!==l.n&&g(K,"background",l.n=te),re!==l.s&&g(ye,"background",l.s=re),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),E(()=>m.value=d()),o})()]}})};function it(s){const[d,n]=F(A.character.get),u=()=>{A.character.set=d(),s.onSuccess()};return e(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},class:"up-pop flex w-121 flex-col overflow-hidden",style:{"--bg-color":"var(--color-neutral-950)","--border-color":"var(--color-neutral-900)","--position":"relative"},get children(){return[(()=>{var t=Je(),r=t.firstChild;return i(t,e(ze,{class:"text-secondary-50 m-1 h-5 w-5"}),r),t})(),(()=>{var t=Qe(),r=t.firstChild,v=r.nextSibling,p=v.nextSibling,y=p.firstChild,$=y.firstChild,h=y.nextSibling,w=h.firstChild,_=w.firstChild,b=_.nextSibling,k=w.nextSibling;k.firstChild;var o=p.nextSibling,c=o.firstChild,f=c.nextSibling,R=o.nextSibling,S=R.nextSibling;return S.firstChild,i(y,e(C,{get when(){return!d().avatar},get children(){return Ke()}}),$),$.$$input=m=>n(a=>({...a,avatar:m.currentTarget.value})),b.$$input=m=>n(a=>({...a,name:m.currentTarget.value})),i(k,e(se,{get value(){return d().title},options:[{items:["Elder","The Original Few"]}],onSelect:m=>n(a=>({...a,title:m}))}),null),f.$$input=m=>n(a=>({...a,bio:m.currentTarget.value})),i(S,e(ie,{each:["ðŸŒ€ First Step"],children:m=>(()=>{var a=et();return i(a,m),a})()}),null),E(m=>g(y,"background-image",`url(${d().avatar})`)),E(()=>b.value=d().name),E(()=>f.value=d().bio),t})(),(()=>{var t=Xe(),r=t.firstChild,v=r.nextSibling;return r.$$click=u,v.$$click=()=>s.onSuccess(),t})()]}})}function dt({onSelect:s}){const[d]=ge(async()=>(ae({name:"primary",color:"#FF0033",oneTime:!0}),ae({name:"secondary",color:"#0b0b0b",oneTime:!0}),!0)),[n,u]=F(A.realm.getRealms()),[t,r]=F(n().length===0?0:1);return e(we,{get fallback(){return e($e,{})},get children(){return e(C,{get when(){return d()},get children(){var v=tt(),p=v.firstChild,y=p.nextSibling,$=y.firstChild;return i(p,e(je,{expanded:!0})),i($,e(be,{exitBeforeEnter:!0,get children(){return[e(C,{get when(){return t()===0},get children(){return e(rt,{onNext:()=>r(3)})}}),e(C,{get when(){return t()===1},get children(){return e(lt,{onBack:()=>r(2),onSelect:h=>{s(h)},realms:n,setRealms:u})}}),e(C,{get when(){return t()===2},get children(){return e(at,{onBack:()=>r(1),onSuccess:()=>r(1)})}}),e(C,{get when(){return t()===3},get children(){return e(it,{onSuccess:()=>r(2)})}})]}})),v}})}})}De(["click","input"]);export{dt as default};
