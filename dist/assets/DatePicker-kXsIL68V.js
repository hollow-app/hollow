import{o as Le,G as Ne,c as He,t as We,f as Pe,z as Ie,H as _e,Z as Fe,q as qe}from"./index-CNe0vCeo.js";/*! name: vanilla-calendar-pro v3.0.5 | url: https://github.com/uvarov-frontend/vanilla-calendar-pro */var Oe=Object.defineProperty,Re=Object.defineProperties,ze=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))Ke.call(t,n)&&j(e,n,t[n]);if(re)for(var n of re(t))je.call(t,n)&&j(e,n,t[n]);return e},Ue=(e,t)=>Re(e,ze(t)),m=(e,t,n)=>(j(e,typeof t!="symbol"?t+"":t,n),n);const f={notFoundSelector:e=>`${e} is not found, check the first argument passed to new Calendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:"You specified an incorrect language label or did not specify the required number of values ​​for «locale.weekdays» or «locale.months».",incorrectTime:"The value of the time property can be: false, 12 or 24.",incorrectMonthsCount:"For the «multiple» calendar type, the «displayMonthsCount» parameter can have a value from 2 to 12, and for all others it cannot be greater than 1."},h=(e,t,n)=>{e.context[t]=n},Be=e=>{var t,n,o,a,l;if(!e.context.isInit)throw new Error(f.notInit);e.inputMode?((t=e.context.mainElement.parentElement)==null||t.removeChild(e.context.mainElement),(o=(n=e.context.inputElement)==null?void 0:n.replaceWith)==null||o.call(n,e.context.originalElement),h(e,"inputElement",void 0)):(l=(a=e.context.mainElement).replaceWith)==null||l.call(a,e.context.originalElement),h(e,"mainElement",e.context.originalElement),e.onDestroy&&e.onDestroy(e)},U=e=>{e.context.isShowInInputMode&&e.context.currentType&&(e.context.mainElement.dataset.vcCalendarHidden="",h(e,"isShowInInputMode",!1),e.context.cleanupHandlers[0]&&(e.context.cleanupHandlers.forEach((t=>t())),h(e,"cleanupHandlers",[])),e.onHide&&e.onHide(e))};function X(e){if(!e||!e.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};const t=e.getBoundingClientRect(),n=document.documentElement;return{bottom:t.bottom,right:t.right,top:t.top+window.scrollY-n.clientTop,left:t.left+window.scrollX-n.clientLeft}}function Q(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function Ve(){return{left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0}}function Ze(e){const{top:t,left:n}=Ve(),{top:o,left:a}=X(e),{vh:l,vw:r}=Q(),s=o-t,i=a-n;return{top:s,bottom:l-(s+e.clientHeight),left:i,right:r-(i+e.clientWidth)}}function xe(e,t,n=5){const o={top:!0,bottom:!0,left:!0,right:!0},a=[];if(!t||!e)return{canShow:o,parentPositions:a};const{bottom:l,top:r}=Ze(e),{top:s,left:i}=X(e),{height:d,width:u}=t.getBoundingClientRect(),{vh:p,vw:y}=Q(),g=y/2,D=p/2;return[{condition:s<D,position:"top"},{condition:s>D,position:"bottom"},{condition:i<g,position:"left"},{condition:i>g,position:"right"}].forEach((({condition:k,position:H})=>{k&&a.push(H)})),Object.assign(o,{top:d<=r-n,bottom:d<=l-n,left:u<=i,right:u<=y-i}),{canShow:o,parentPositions:a}}const Ge=(e,t,n,o)=>{var a;const l=o.querySelector(`[data-vc-date="${t}"]`),r=l==null?void 0:l.querySelector("[data-vc-date-btn]");if(!l||!r||(n!=null&&n.modifier&&r.classList.add(...n.modifier.trim().split(" ")),!(n!=null&&n.html)))return;const s=document.createElement("div");s.className=e.styles.datePopup,s.dataset.vcDatePopup="",s.innerHTML=e.sanitizerHTML(n.html),r.ariaExpanded="true",r.ariaLabel=`${r.ariaLabel}, ${(a=s==null?void 0:s.textContent)==null?void 0:a.replace(/^\s+|\s+(?=\s)|\s+$/g,"").replace(/&nbsp;/g," ")}`,l.appendChild(s),requestAnimationFrame((()=>{if(!s)return;const{canShow:i}=xe(l,s),d=i.bottom?l.offsetHeight:-s.offsetHeight,u=i.left&&!i.right?l.offsetWidth-s.offsetWidth/2:!i.left&&i.right?s.offsetWidth/2:0;Object.assign(s.style,{left:`${u}px`,top:`${d}px`})}))},Je=(e,t)=>{var n;e.popups&&((n=Object.entries(e.popups))==null||n.forEach((([o,a])=>Ge(e,o,a,t))))},v=e=>new Date(`${e}T00:00:00`),T=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,b=e=>e.reduce(((t,n)=>{if(n instanceof Date||typeof n=="number"){const o=n instanceof Date?n:new Date(n);t.push(o.toISOString().substring(0,10))}else n.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(n):n.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,((o,a,l)=>{const r=v(a),s=v(l),i=new Date(r.getTime());for(;i<=s;i.setDate(i.getDate()+1))t.push(T(i));return o}));return t}),[]),M=(e,t,n,o="")=>{t?e.setAttribute(n,o):e.getAttribute(n)===o&&e.removeAttribute(n)},be=(e,t,n,o,a,l,r)=>{var s,i,d,u;const p=v(e.context.displayDateMin)>v(l)||v(e.context.displayDateMax)<v(l)||((s=e.context.disableDates)==null?void 0:s.includes(l))||!e.selectionMonthsMode&&r!=="current"||!e.selectionYearsMode&&v(l).getFullYear()!==t;M(n,p,"data-vc-date-disabled"),o&&M(o,p,"aria-disabled","true"),o&&M(o,p,"tabindex","-1"),M(n,!e.disableToday&&e.context.dateToday===l,"data-vc-date-today"),M(n,!e.disableToday&&e.context.dateToday===l,"aria-current","date"),M(n,(i=e.selectedWeekends)==null?void 0:i.includes(a),"data-vc-date-weekend");const y=(d=e.selectedHolidays)!=null&&d[0]?b(e.selectedHolidays):[];if(M(n,y.includes(l),"data-vc-date-holiday"),(u=e.context.selectedDates)!=null&&u.includes(l)?(n.setAttribute("data-vc-date-selected",""),o&&o.setAttribute("aria-selected","true"),e.context.selectedDates.length>1&&e.selectionDatesMode==="multiple-ranged"&&(e.context.selectedDates[0]===l&&e.context.selectedDates[e.context.selectedDates.length-1]===l?n.setAttribute("data-vc-date-selected","first-and-last"):e.context.selectedDates[0]===l?n.setAttribute("data-vc-date-selected","first"):e.context.selectedDates[e.context.selectedDates.length-1]===l&&n.setAttribute("data-vc-date-selected","last"),e.context.selectedDates[0]!==l&&e.context.selectedDates[e.context.selectedDates.length-1]!==l&&n.setAttribute("data-vc-date-selected","middle"))):n.hasAttribute("data-vc-date-selected")&&(n.removeAttribute("data-vc-date-selected"),o&&o.removeAttribute("aria-selected")),!e.context.disableDates.includes(l)&&e.enableEdgeDatesOnly&&e.context.selectedDates.length>1&&e.selectionDatesMode==="multiple-ranged"){const g=v(e.context.selectedDates[0]),D=v(e.context.selectedDates[e.context.selectedDates.length-1]),k=v(l);M(n,k>g&&k<D,"data-vc-date-selected","middle")}},Xe=(e,t,n)=>new Date(`${e}T00:00:00.000Z`).toLocaleString(t,n),Me=(e,t)=>{const n=v(e),o=(n.getDay()-t+7)%7;n.setDate(n.getDate()+4-o);const a=new Date(n.getFullYear(),0,1),l=Math.ceil(((+n-+a)/864e5+1)/7);return{year:n.getFullYear(),week:l}},Qe=(e,t,n)=>{const o=Me(n,e.firstWeekday);o&&(t.dataset.vcDateWeekNumber=String(o.week))},et=(e,t,n)=>{var o,a,l,r,s;const i=(o=e.disableWeekdays)==null?void 0:o.includes(n),d=e.disableAllDates&&!!((a=e.context.enableDates)!=null&&a[0]);!i&&!d||(l=e.context.enableDates)!=null&&l.includes(t)||(r=e.context.disableDates)!=null&&r.includes(t)||(e.context.disableDates.push(t),(s=e.context.disableDates)==null||s.sort(((u,p)=>+new Date(u)-+new Date(p))))},ee=(e,t,n,o,a,l)=>{const r=v(a).getDay(),s=typeof e.locale=="string"&&e.locale.length?e.locale:"en",i=document.createElement("div");let d;i.className=e.styles.date,i.dataset.vcDate=a,i.dataset.vcDateMonth=l,i.dataset.vcDateWeekDay=String(r),(l==="current"||e.displayDatesOutside)&&(d=document.createElement("button"),d.className=e.styles.dateBtn,d.type="button",d.role="gridcell",d.ariaLabel=Xe(a,s,{dateStyle:"long",timeZone:"UTC"}),d.dataset.vcDateBtn="",d.innerText=String(o),i.appendChild(d)),e.enableWeekNumbers&&Qe(e,i,a),et(e,a,r),be(e,t,i,d,r,a,l),n.appendChild(i),e.onCreateDateEls&&e.onCreateDateEls(e,i)},tt=(e,t,n,o,a)=>{for(let l=1;l<=n;l++){const r=new Date(o,a,l);ee(e,o,t,l,T(r),"current")}},nt=(e,t,n,o,a,l)=>{const r=l+n,s=7*Math.ceil(r/7)-r,i=a+1===12?o+1:o,d=a+1===12?"01":a+2<10?`0${a+2}`:a+2;for(let u=1;u<=s;u++){const p=u<10?`0${u}`:String(u);ee(e,o,t,u,`${i}-${d}-${p}`,"next")}},at=(e,t,n,o,a)=>{let l=new Date(n,o,0).getDate()-(a-1);const r=o===0?n-1:n,s=o===0?12:o<10?`0${o}`:o;for(let i=a;i>0;i--,l++)ee(e,n,t,l,`${r}-${s}-${l}`,"prev")},ot=(e,t,n,o,a)=>{if(!e.enableWeekNumbers)return;o.textContent="";const l=document.createElement("b");l.className=e.styles.weekNumbersTitle,l.innerText="#",l.dataset.vcWeekNumbers="title",o.appendChild(l);const r=document.createElement("div");r.className=e.styles.weekNumbersContent,r.dataset.vcWeekNumbers="content",o.appendChild(r);const s=document.createElement("button");s.type="button",s.className=e.styles.weekNumber;const i=a.querySelectorAll("[data-vc-date]"),d=Math.ceil((t+n)/7);for(let u=0;u<d;u++){const p=i[u===0?6:7*u].dataset.vcDate,y=Me(p,e.firstWeekday);if(!y)return;const g=s.cloneNode(!0);g.innerText=String(y.week),g.dataset.vcWeekNumber=String(y.week),g.dataset.vcWeekYear=String(y.year),g.role="rowheader",g.ariaLabel=`${y.week}`,r.appendChild(g)}},B=e=>{const t=new Date(e.context.selectedYear,e.context.selectedMonth,1),n=e.context.mainElement.querySelectorAll('[data-vc="dates"]'),o=e.context.mainElement.querySelectorAll('[data-vc-week="numbers"]');n.forEach(((a,l)=>{e.selectionDatesMode||(a.dataset.vcDatesDisabled=""),a.textContent="";const r=new Date(t);r.setMonth(r.getMonth()+l);const s=r.getMonth(),i=r.getFullYear(),d=(new Date(i,s,1).getDay()-e.firstWeekday+7)%7,u=new Date(i,s+1,0).getDate();at(e,a,i,s,d),tt(e,a,u,i,s),nt(e,a,u,i,s,d),Je(e,a),ot(e,d,u,o[l],a)}))},lt=e=>`
  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">
    <#ArrowPrev [month] />
    <div class="${e.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
    <#ArrowNext [month] />
  </div>
  <div class="${e.styles.wrapper}" data-vc="wrapper">
    <#WeekNumbers />
    <div class="${e.styles.content}" data-vc="content">
      <#Week />
      <#Dates />
      <#DateRangeTooltip />
    </div>
  </div>
  <#ControlTime />
`,st=e=>`
  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">
    <div class="${e.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
  </div>
  <div class="${e.styles.wrapper}" data-vc="wrapper">
    <div class="${e.styles.content}" data-vc="content">
      <#Months />
    </div>
  </div>
`,rt=e=>`
  <div class="${e.styles.controls}" data-vc="controls" role="toolbar" aria-label="${e.labels.navigation}">
    <#ArrowPrev [month] />
    <#ArrowNext [month] />
  </div>
  <div class="${e.styles.grid}" data-vc="grid">
    <#Multiple>
      <div class="${e.styles.column}" data-vc="column" role="region">
        <div class="${e.styles.header}" data-vc="header">
          <div class="${e.styles.headerContent}" data-vc-header="content">
            <#Month />
            <#Year />
          </div>
        </div>
        <div class="${e.styles.wrapper}" data-vc="wrapper">
          <#WeekNumbers />
          <div class="${e.styles.content}" data-vc="content">
            <#Week />
            <#Dates />
          </div>
        </div>
      </div>
    <#/Multiple>
    <#DateRangeTooltip />
  </div>
  <#ControlTime />
`,it=e=>`
  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">
    <#ArrowPrev [year] />
    <div class="${e.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
    <#ArrowNext [year] />
  </div>
  <div class="${e.styles.wrapper}" data-vc="wrapper">
    <div class="${e.styles.content}" data-vc="content">
      <#Years />
    </div>
  </div>
`,ct=(e,t)=>`<button type="button" class="${e.styles.arrowNext}" data-vc-arrow="next" aria-label="${e.labels.arrowNext[t]}"></button>`,dt=(e,t)=>`<button type="button" class="${e.styles.arrowPrev}" data-vc-arrow="prev" aria-label="${e.labels.arrowPrev[t]}"></button>`,ut=e=>e.selectionTimeMode?`<div class="${e.styles.time}" data-vc="time" role="group" aria-label="${e.labels.selectingTime}"></div>`:"",mt=e=>e.onCreateDateRangeTooltip?`<div class="${e.styles.dateRangeTooltip}" data-vc-date-range-tooltip="hidden"></div>`:"",ht=e=>`<div class="${e.styles.dates}" data-vc="dates" role="grid" aria-live="assertive" aria-label="${e.labels.dates}" ${e.type==="multiple"?"aria-multiselectable":""}></div>`,vt=e=>`<button type="button" class="${e.styles.month}" data-vc="month"></button>`,pt=e=>`<div class="${e.styles.months}" data-vc="months" role="grid" aria-live="assertive" aria-label="${e.labels.months}"></div>`,yt=e=>`<div class="${e.styles.week}" data-vc="week" role="row" aria-label="${e.labels.week}"></div>`,gt=e=>e.enableWeekNumbers?`<div class="${e.styles.weekNumbers}" data-vc-week="numbers" role="row" aria-label="${e.labels.weekNumber}"></div>`:"",xt=e=>`<button type="button" class="${e.styles.year}" data-vc="year"></button>`,bt=e=>`<div class="${e.styles.years}" data-vc="years" role="grid" aria-live="assertive" aria-label="${e.labels.years}"></div>`,Mt={ArrowNext:ct,ArrowPrev:dt,ControlTime:ut,Dates:ht,DateRangeTooltip:mt,Month:vt,Months:pt,Week:yt,WeekNumbers:gt,Year:xt,Years:bt},ft=e=>Mt[e],z=(e,t)=>t.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,((n,o)=>{const a=(o.match(/\[(.*?)\]/)||[])[1],l=o.replace(/[/\s\n\t]|\[(.*?)\]/g,""),r=ft(l),s=r?r(e,a??null):"";return e.sanitizerHTML(s)})).replace(/[\n\t]/g,""),Dt=(e,t)=>t.replace(new RegExp("<#Multiple>(.*?)<#\\/Multiple>","gs"),((n,o)=>{const a=Array(e.context.displayMonthsCount).fill(o).join("");return e.sanitizerHTML(a)})).replace(/[\n\t]/g,""),te=(e,t)=>{const n={default:lt,month:st,year:it,multiple:rt};if(Object.keys(n).forEach((o=>{const a=o;e.layouts[a].length||(e.layouts[a]=n[a](e))})),e.context.mainElement.className=e.styles.calendar,e.context.mainElement.dataset.vc="calendar",e.context.mainElement.dataset.vcType=e.context.currentType,e.context.mainElement.role="application",e.context.mainElement.tabIndex=0,e.context.mainElement.ariaLabel=e.labels.application,e.context.currentType!=="multiple"){if(e.type==="multiple"&&t){const o=e.context.mainElement.querySelector('[data-vc="controls"]'),a=e.context.mainElement.querySelector('[data-vc="grid"]'),l=t.closest('[data-vc="column"]');return o&&e.context.mainElement.removeChild(o),a&&(a.dataset.vcGrid="hidden"),l&&(l.dataset.vcColumn=e.context.currentType),void(l&&(l.innerHTML=e.sanitizerHTML(z(e,e.layouts[e.context.currentType]))))}e.context.mainElement.innerHTML=e.sanitizerHTML(z(e,e.layouts[e.context.currentType]))}else e.context.mainElement.innerHTML=e.sanitizerHTML(Dt(e,z(e,e.layouts[e.context.currentType])))},fe=(e,t,n,o)=>{e.style.visibility=n?"hidden":"",t.style.visibility=o?"hidden":""},wt=(e,t,n)=>{const o=v(T(new Date(e.context.selectedYear,e.context.selectedMonth,1))),a=new Date(o.getTime()),l=new Date(o.getTime());a.setMonth(a.getMonth()-e.monthsToSwitch),l.setMonth(l.getMonth()+e.monthsToSwitch);const r=v(e.context.dateMin),s=v(e.context.dateMax);e.selectionYearsMode||(r.setFullYear(o.getFullYear()),s.setFullYear(o.getFullYear()));const i=!e.selectionMonthsMode||a.getFullYear()<r.getFullYear()||a.getFullYear()===r.getFullYear()&&a.getMonth()<r.getMonth(),d=!e.selectionMonthsMode||l.getFullYear()>s.getFullYear()||l.getFullYear()===s.getFullYear()&&l.getMonth()>s.getMonth()-(e.context.displayMonthsCount-1);fe(t,n,i,d)},Et=(e,t,n)=>{const o=v(e.context.dateMin),a=v(e.context.dateMax),l=!!(o.getFullYear()&&e.context.displayYear-7<=o.getFullYear()),r=!!(a.getFullYear()&&e.context.displayYear+7>=a.getFullYear());fe(t,n,l,r)},O=e=>{if(e.context.currentType==="month")return;const t=e.context.mainElement.querySelector('[data-vc-arrow="prev"]'),n=e.context.mainElement.querySelector('[data-vc-arrow="next"]');!t||!n||{default:()=>wt(e,t,n),year:()=>Et(e,t,n)}[e.context.currentType==="multiple"?"default":e.context.currentType]()},Tt=(e,t,n,o,a)=>{const l=new Date(o.setFullYear(e.context.selectedYear,e.context.selectedMonth+n)).getFullYear(),r=new Date(o.setMonth(e.context.selectedMonth+n)).getMonth(),s=e.context.locale.months.long[r],i=t.closest('[data-vc="column"]');i&&(i.ariaLabel=`${s} ${l}`);const d={month:{id:r,label:s},year:{id:l,label:l}};t.innerText=String(d[a].label),t.dataset[`vc${a.charAt(0).toUpperCase()+a.slice(1)}`]=String(d[a].id),t.ariaLabel=`${e.labels[a]} ${d[a].label}`;const u={month:e.selectionMonthsMode,year:e.selectionYearsMode},p=u[a]===!1||u[a]==="only-arrows";p&&(t.tabIndex=-1),t.disabled=p},N=e=>{const t=e.context.mainElement.querySelectorAll('[data-vc="month"]'),n=e.context.mainElement.querySelectorAll('[data-vc="year"]'),o=new Date(e.context.selectedYear,e.context.selectedMonth,1);[t,n].forEach((a=>a==null?void 0:a.forEach(((l,r)=>Tt(e,l,r,o,l.dataset.vc)))))},ne=(e,t,n,o,a)=>{var l;const r={month:"[data-vc-months-month]",year:"[data-vc-years-year]"},s={month:{selected:"data-vc-months-month-selected",aria:"aria-selected",value:"vcMonthsMonth",selectedProperty:"selectedMonth"},year:{selected:"data-vc-years-year-selected",aria:"aria-selected",value:"vcYearsYear",selectedProperty:"selectedYear"}};a&&((l=e.context.mainElement.querySelectorAll(r[n]))==null||l.forEach((i=>{i.removeAttribute(s[n].selected),i.removeAttribute(s[n].aria)})),h(e,s[n].selectedProperty,Number(t.dataset[s[n].value])),N(e),n==="year"&&O(e)),o&&(t.setAttribute(s[n].selected,""),t.setAttribute(s[n].aria,"true"))},ae=(e,t)=>{var n;if(e.type!=="multiple")return{currentValue:null,columnID:0};const o=e.context.mainElement.querySelectorAll('[data-vc="column"]'),a=Array.from(o).findIndex((l=>l.closest(`[data-vc-column="${t}"]`)));return{currentValue:a>=0?Number((n=o[a].querySelector(`[data-vc="${t}"]`))==null?void 0:n.getAttribute(`data-vc-${t}`)):null,columnID:Math.max(a,0)}},kt=(e,t,n,o,a,l,r)=>{const s=t.cloneNode(!1);return s.className=e.styles.monthsMonth,s.innerText=o,s.ariaLabel=a,s.role="gridcell",s.dataset.vcMonthsMonth=`${r}`,l&&(s.ariaDisabled="true"),l&&(s.tabIndex=-1),s.disabled=l,ne(e,s,"month",n===r,!1),s},De=(e,t)=>{var n,o;const a=(n=t==null?void 0:t.closest('[data-vc="header"]'))==null?void 0:n.querySelector('[data-vc="year"]'),l=a?Number(a.dataset.vcYear):e.context.selectedYear,r=t!=null&&t.dataset.vcMonth?Number(t.dataset.vcMonth):e.context.selectedMonth;h(e,"currentType","month"),te(e,t),N(e);const s=e.context.mainElement.querySelector('[data-vc="months"]');if(!e.selectionMonthsMode||!s)return;const i=e.monthsToSwitch>1?e.context.locale.months.long.map(((u,p)=>r-e.monthsToSwitch*p)).concat(e.context.locale.months.long.map(((u,p)=>r+e.monthsToSwitch*p))).filter((u=>u>=0&&u<=12)):Array.from(Array(12).keys()),d=document.createElement("button");d.type="button";for(let u=0;u<12;u++){const p=v(e.context.dateMin),y=v(e.context.dateMax),g=e.context.displayMonthsCount-1,{columnID:D}=ae(e,"month"),k=l<=p.getFullYear()&&u<p.getMonth()+D||l>=y.getFullYear()&&u>y.getMonth()-g+D||l>y.getFullYear()||u!==r&&!i.includes(u),H=kt(e,d,r,e.context.locale.months.short[u],e.context.locale.months.long[u],k,u);s.appendChild(H),e.onCreateMonthEls&&e.onCreateMonthEls(e,H)}(o=e.context.mainElement.querySelector("[data-vc-months-month]:not([disabled])"))==null||o.focus()},ie=(e,t,n,o,a)=>`
  <label class="${t}" data-vc-time-input="${e}">
    <input type="text" name="${e}" maxlength="2" aria-label="${n[`input${e.charAt(0).toUpperCase()+e.slice(1)}`]}" value="${o}" ${a?"disabled":""}>
  </label>
`,ce=(e,t,n,o,a,l,r)=>`
  <label class="${t}" data-vc-time-range="${e}">
    <input type="range" name="${e}" min="${o}" max="${a}" step="${l}" aria-label="${n[`range${e.charAt(0).toUpperCase()+e.slice(1)}`]}" value="${r}">
  </label>
`,A=(e,t,n,o)=>{({hour:()=>h(e,"selectedHours",n),minute:()=>h(e,"selectedMinutes",n)})[o](),h(e,"selectedTime",`${e.context.selectedHours}:${e.context.selectedMinutes}${e.context.selectedKeeping?` ${e.context.selectedKeeping}`:""}`),e.onChangeTime&&e.onChangeTime(e,t,!1),e.inputMode&&e.context.inputElement&&e.context.mainElement&&e.onChangeToInput&&e.onChangeToInput(e,t)},_=(e,t)=>{var n;return((n={0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"00",PM:"12"}}[Number(e)])==null?void 0:n[t])||String(e)},Ct=(e,t,n,o,a)=>{const l=r=>{const s=e.context.selectedKeeping==="AM"?"PM":"AM",i=_(e.context.selectedHours,s);Number(i)<=o&&Number(i)>=a?(h(e,"selectedKeeping",s),n.value=i,A(e,r,e.context.selectedHours,"hour"),t.ariaLabel=`${e.labels.btnKeeping} ${e.context.selectedKeeping}`,t.innerText=e.context.selectedKeeping):e.onChangeTime&&e.onChangeTime(e,r,!0)};return t.addEventListener("click",l),()=>{t.removeEventListener("click",l)}},Y=e=>({0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"})[Number(e)]||String(e),W=(e,t,n,o)=>{e.value=n,t.value=o},$t=(e,t,n)=>{t&&n&&(h(e,"selectedKeeping",n),t.innerText=n)},de=(e,t,n,o,a,l,r)=>{const s={hour:(d,u,p)=>{e.selectionTimeMode&&{12:()=>{if(!e.context.selectedKeeping)return;const y=Number(_(u,e.context.selectedKeeping));if(!(y<=l&&y>=r))return W(n,t,e.context.selectedHours,e.context.selectedHours),void(e.onChangeTime&&e.onChangeTime(e,p,!0));W(n,t,Y(u),_(u,e.context.selectedKeeping)),d>12&&$t(e,o,"PM"),A(e,p,Y(u),a)},24:()=>{if(!(d<=l&&d>=r))return W(n,t,e.context.selectedHours,e.context.selectedHours),void(e.onChangeTime&&e.onChangeTime(e,p,!0));W(n,t,u,u),A(e,p,u,a)}}[e.selectionTimeMode]()},minute:(d,u,p)=>{if(!(d<=l&&d>=r))return n.value=e.context.selectedMinutes,void(e.onChangeTime&&e.onChangeTime(e,p,!0));n.value=u,t.value=u,A(e,p,u,a)}},i=d=>{const u=Number(n.value),p=n.value.padStart(2,"0");s[a]&&s[a](u,p,d)};return n.addEventListener("change",i),()=>{n.removeEventListener("change",i)}},St=(e,t,n,o,a)=>{t.value=a,A(e,n,a,o)},At=(e,t,n)=>{t&&(h(e,"selectedKeeping",n),t.innerText=n)},ue=(e,t,n,o,a)=>{const l=r=>{const s=Number(t.value),i=t.value.padStart(2,"0"),d=a==="hour",u=e.selectionTimeMode===24,p=s>0&&s<12;d&&!u&&At(e,o,s===0||p?"AM":"PM"),St(e,n,r,a,!d||u||p?i:Y(t.value))};return t.addEventListener("input",l),()=>{t.removeEventListener("input",l)}},me=e=>e.setAttribute("data-vc-input-focus",""),he=e=>e.removeAttribute("data-vc-input-focus"),Yt=(e,t)=>{const n=t.querySelector('[data-vc-time-range="hour"] input[name="hour"]'),o=t.querySelector('[data-vc-time-range="minute"] input[name="minute"]'),a=t.querySelector('[data-vc-time-input="hour"] input[name="hour"]'),l=t.querySelector('[data-vc-time-input="minute"] input[name="minute"]'),r=t.querySelector('[data-vc-time="keeping"]');if(!(n&&o&&a&&l))return;const s=d=>{d.target===n&&me(a),d.target===o&&me(l)},i=d=>{d.target===n&&he(a),d.target===o&&he(l)};return t.addEventListener("mouseover",s),t.addEventListener("mouseout",i),de(e,n,a,r,"hour",e.timeMaxHour,e.timeMinHour),de(e,o,l,r,"minute",e.timeMaxMinute,e.timeMinMinute),ue(e,n,a,r,"hour"),ue(e,o,l,r,"minute"),r&&Ct(e,r,n,e.timeMaxHour,e.timeMinHour),()=>{t.removeEventListener("mouseover",s),t.removeEventListener("mouseout",i)}},Lt=e=>{const t=e.context.mainElement.querySelector('[data-vc="time"]');if(!e.selectionTimeMode||!t)return;const[n,o]=[e.timeMinHour,e.timeMaxHour],[a,l]=[e.timeMinMinute,e.timeMaxMinute],r=e.context.selectedKeeping?_(e.context.selectedHours,e.context.selectedKeeping):e.context.selectedHours,s=e.timeControls==="range";var i;t.innerHTML=e.sanitizerHTML(`
    <div class="${e.styles.timeContent}" data-vc-time="content">
      ${ie("hour",e.styles.timeHour,e.labels,e.context.selectedHours,s)}
      ${ie("minute",e.styles.timeMinute,e.labels,e.context.selectedMinutes,s)}
      ${e.selectionTimeMode===12?(i=e.context.selectedKeeping,`<button type="button" class="${e.styles.timeKeeping}" aria-label="${e.labels.btnKeeping} ${i}" data-vc-time="keeping" ${s?"disabled":""}>${i}</button>`):""}
    </div>
    <div class="${e.styles.timeRanges}" data-vc-time="ranges">
      ${ce("hour",e.styles.timeRange,e.labels,n,o,e.timeStepHour,r)}
      ${ce("minute",e.styles.timeRange,e.labels,a,l,e.timeStepMinute,e.context.selectedMinutes)}
    </div>
  `),Yt(e,t)},ve=e=>{const t=e.selectedWeekends?[...e.selectedWeekends]:[],n=[...e.context.locale.weekdays.long].reduce(((a,l,r)=>[...a,{id:r,titleShort:e.context.locale.weekdays.short[r],titleLong:l,isWeekend:t.includes(r)}]),[]),o=[...n.slice(e.firstWeekday),...n.slice(0,e.firstWeekday)];e.context.mainElement.querySelectorAll('[data-vc="week"]').forEach((a=>{const l=e.onClickWeekDay?document.createElement("button"):document.createElement("b");e.onClickWeekDay&&(l.type="button"),o.forEach((r=>{const s=l.cloneNode(!0);s.innerText=r.titleShort,s.className=e.styles.weekDay,s.role="columnheader",s.ariaLabel=r.titleLong,s.dataset.vcWeekDay=String(r.id),r.isWeekend&&(s.dataset.vcWeekDayOff=""),a.appendChild(s)}))}))},Nt=(e,t,n,o,a)=>{const l=t.cloneNode(!1);return l.className=e.styles.yearsYear,l.innerText=String(a),l.ariaLabel=String(a),l.role="gridcell",l.dataset.vcYearsYear=`${a}`,o&&(l.ariaDisabled="true"),o&&(l.tabIndex=-1),l.disabled=o,ne(e,l,"year",n===a,!1),l},oe=(e,t)=>{var n;const o=t!=null&&t.dataset.vcYear?Number(t.dataset.vcYear):e.context.selectedYear;h(e,"currentType","year"),te(e,t),N(e),O(e);const a=e.context.mainElement.querySelector('[data-vc="years"]');if(!e.selectionYearsMode||!a)return;const l=e.type!=="multiple"||e.context.selectedYear===o?0:1,r=document.createElement("button");r.type="button";for(let s=e.context.displayYear-7;s<e.context.displayYear+8;s++){const i=s<v(e.context.dateMin).getFullYear()+l||s>v(e.context.dateMax).getFullYear(),d=Nt(e,r,o,i,s);a.appendChild(d),e.onCreateYearEls&&e.onCreateYearEls(e,d)}(n=e.context.mainElement.querySelector("[data-vc-years-year]:not([disabled])"))==null||n.focus()},Ht=(e,t,n)=>{new MutationObserver((o=>{for(let a=0;a<o.length;a++)if(o[a].attributeName===t){n();break}})).observe(e,{attributes:!0})},F={value:!1,set:()=>F.value=!0,check:()=>F.value},$=(e,t)=>e.dataset.vcTheme=t,pe=(e,t)=>{if($(e.context.mainElement,t.matches?"dark":"light"),e.selectedTheme!=="system"||F.check())return;const n=o=>{const a=document.querySelectorAll('[data-vc="calendar"]');a==null||a.forEach((l=>$(l,o.matches?"dark":"light")))};t.addEventListener?t.addEventListener("change",n):t.addListener(n),F.set()},Wt=(e,t)=>{const n=e.themeAttrDetect.length?document.querySelector(e.themeAttrDetect):null,o=e.themeAttrDetect.replace(/^.*\[(.+)\]/g,((l,r)=>r));if(!n||n.getAttribute(o)==="system")return void pe(e,t);const a=n.getAttribute(o);a?($(e.context.mainElement,a),Ht(n,o,(()=>{const l=n.getAttribute(o);l&&$(e.context.mainElement,l)}))):pe(e,t)},Pt=e=>{window.matchMedia("(prefers-color-scheme)").media!=="not all"?e.selectedTheme==="system"?Wt(e,window.matchMedia("(prefers-color-scheme: dark)")):$(e.context.mainElement,e.selectedTheme):$(e.context.mainElement,"light")},q=e=>e.charAt(0).toUpperCase()+e.slice(1).replace(/\./,""),It=(e,t,n)=>{const o=new Date(`1978-01-0${t+1}T00:00:00.000Z`),a=o.toLocaleString(n,{weekday:"short",timeZone:"UTC"}),l=o.toLocaleString(n,{weekday:"long",timeZone:"UTC"});e.context.locale.weekdays.short.push(q(a)),e.context.locale.weekdays.long.push(q(l))},_t=(e,t,n)=>{const o=new Date(`1978-${String(t+1).padStart(2,"0")}-01T00:00:00.000Z`),a=o.toLocaleString(n,{month:"short",timeZone:"UTC"}),l=o.toLocaleString(n,{month:"long",timeZone:"UTC"});e.context.locale.months.short.push(q(a)),e.context.locale.months.long.push(q(l))},Ft=e=>{var t,n,o,a,l,r,s,i;if(!(e.context.locale.weekdays.short[6]&&e.context.locale.weekdays.long[6]&&e.context.locale.months.short[11]&&e.context.locale.months.long[11]))if(typeof e.locale=="string"){if(typeof e.locale=="string"&&!e.locale.length)throw new Error(f.notLocale);Array.from({length:7},((d,u)=>It(e,u,e.locale))),Array.from({length:12},((d,u)=>_t(e,u,e.locale)))}else{if(!((n=(t=e.locale)==null?void 0:t.weekdays)!=null&&n.short[6]&&((a=(o=e.locale)==null?void 0:o.weekdays)!=null&&a.long[6])&&((r=(l=e.locale)==null?void 0:l.months)!=null&&r.short[11])&&((i=(s=e.locale)==null?void 0:s.months)!=null&&i.long[11])))throw new Error(f.notLocale);h(e,"locale",C({},e.locale))}},R=e=>{const t={default:()=>{ve(e),B(e)},multiple:()=>{ve(e),B(e)},month:()=>De(e),year:()=>oe(e)};Pt(e),Ft(e),te(e),N(e),O(e),Lt(e),t[e.context.currentType]()},we=e=>{const t=n=>{var o;const a=n.target;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)||a.localName!=="button")return;const l=Array.from(e.context.mainElement.querySelectorAll('[data-vc="calendar"] button')),r=l.indexOf(a);if(r===-1)return;const s=(i=l[r]).hasAttribute("data-vc-date-btn")?7:i.hasAttribute("data-vc-months-month")?4:i.hasAttribute("data-vc-years-year")?5:1;var i;const d=(0,{ArrowUp:()=>Math.max(0,r-s),ArrowDown:()=>Math.min(l.length-1,r+s),ArrowLeft:()=>Math.max(0,r-1),ArrowRight:()=>Math.min(l.length-1,r+1)}[n.key])();(o=l[d])==null||o.focus()};return e.context.mainElement.addEventListener("keydown",t),()=>e.context.mainElement.removeEventListener("keydown",t)},V=(e,t)=>{const n=v(T(new Date(e.context.selectedYear,e.context.selectedMonth,1)));({prev:()=>n.setMonth(n.getMonth()-e.monthsToSwitch),next:()=>n.setMonth(n.getMonth()+e.monthsToSwitch)})[t](),h(e,"selectedMonth",n.getMonth()),h(e,"selectedYear",n.getFullYear()),N(e),O(e),B(e)},qt=(e,t)=>{const n=t.target.closest("[data-vc-arrow]");if(n){if(["default","multiple"].includes(e.context.currentType))V(e,n.dataset.vcArrow);else if(e.context.currentType==="year"&&e.context.displayYear!==void 0){const o={prev:-15,next:15}[n.dataset.vcArrow];h(e,"displayYear",e.context.displayYear+o),oe(e,t.target)}e.onClickArrow&&e.onClickArrow(e,t)}},Z=e=>e.enableDateToggle===void 0||(typeof e.enableDateToggle=="function"?e.enableDateToggle(e):e.enableDateToggle),ye=(e,t,n)=>{const o=t.dataset.vcDate,a=t.closest("[data-vc-date][data-vc-date-selected]"),l=Z(e);if(a&&!l)return;const r=a?e.context.selectedDates.filter((s=>s!==o)):n?[...e.context.selectedDates,o]:[o];h(e,"selectedDates",r)},x=(e,t,n)=>{if(!t)return;if(!n)return t.dataset.vcDateRangeTooltip="hidden",void(t.textContent="");const o=e.context.mainElement.getBoundingClientRect(),a=n.getBoundingClientRect();t.style.left=a.left-o.left+a.width/2+"px",t.style.top=a.bottom-o.top-a.height+"px",t.dataset.vcDateRangeTooltip="visible",t.innerHTML=e.sanitizerHTML(e.onCreateDateRangeTooltip(e,n,t,a,o))},c={self:null,lastDateEl:null,isHovering:!1,rangeMin:void 0,rangeMax:void 0,tooltipEl:null,timeoutId:null},Ot=(e,t,n)=>{var o,a,l;if(!((a=(o=c.self)==null?void 0:o.context)!=null&&a.selectedDates[0]))return;const r=T(e);(l=c.self.context.disableDates)!=null&&l.includes(r)||(c.self.context.mainElement.querySelectorAll(`[data-vc-date="${r}"]`).forEach((s=>s.dataset.vcDateHover="")),t.forEach((s=>s.dataset.vcDateHover="first")),n.forEach((s=>{s.dataset.vcDateHover==="first"?s.dataset.vcDateHover="first-and-last":s.dataset.vcDateHover="last"})))},L=()=>{var e,t;(t=(e=c.self)==null?void 0:e.context)!=null&&t.mainElement&&c.self.context.mainElement.querySelectorAll("[data-vc-date-hover]").forEach((n=>n.removeAttribute("data-vc-date-hover")))},Rt=e=>{var t,n;if(!e||!((n=(t=c.self)==null?void 0:t.context)!=null&&n.selectedDates[0]))return;if(!e.closest('[data-vc="dates"]'))return c.lastDateEl=null,x(c.self,c.tooltipEl,null),void L();const o=e.closest("[data-vc-date]");if(!o||c.lastDateEl===o)return;c.lastDateEl=o,x(c.self,c.tooltipEl,o),L();const a=o.dataset.vcDate,l=v(c.self.context.selectedDates[0]),r=v(a),s=c.self.context.mainElement.querySelectorAll(`[data-vc-date="${c.self.context.selectedDates[0]}"]`),i=c.self.context.mainElement.querySelectorAll(`[data-vc-date="${a}"]`),[d,u]=l<r?[s,i]:[i,s],[p,y]=l<r?[l,r]:[r,l];for(let g=new Date(p);g<=y;g.setDate(g.getDate()+1))Ot(g,d,u)},zt=e=>{const t=e==null?void 0:e.closest("[data-vc-date-selected]");if(!t&&c.lastDateEl)return c.lastDateEl=null,void x(c.self,c.tooltipEl,null);t&&c.lastDateEl!==t&&(c.lastDateEl=t,x(c.self,c.tooltipEl,t))},Ee=e=>t=>{const n=t.target;c.isHovering||(c.isHovering=!0,requestAnimationFrame((()=>{e(n),c.isHovering=!1})))},I=Ee(Rt),P=Ee(zt),S=e=>{c.self&&e.key==="Escape"&&(c.lastDateEl=null,h(c.self,"selectedDates",[]),c.self.context.mainElement.removeEventListener("mousemove",I),c.self.context.mainElement.removeEventListener("keydown",S),x(c.self,c.tooltipEl,null),L())},w=()=>{c.timeoutId!==null&&clearTimeout(c.timeoutId),c.timeoutId=setTimeout((()=>{c.lastDateEl=null,x(c.self,c.tooltipEl,null),L()}),50)},Kt=()=>{var e,t,n,o;if(!((n=(t=(e=c.self)==null?void 0:e.context)==null?void 0:t.selectedDates)!=null&&n[0])||!((o=c.self.context.disableDates)!=null&&o[0]))return;const a=v(c.self.context.selectedDates[0]),[l,r]=c.self.context.disableDates.map((s=>v(s))).reduce((([s,i],d)=>[a>=d?d:s,a<d&&i===null?d:i]),[null,null]);l&&h(c.self,"displayDateMin",T(new Date(l.setDate(l.getDate()+1)))),r&&h(c.self,"displayDateMax",T(new Date(r.setDate(r.getDate()-1)))),c.self.disableDatesPast&&!c.self.disableAllDates&&v(c.self.context.displayDateMin)<v(c.self.context.dateToday)&&h(c.self,"displayDateMin",c.self.context.dateToday)},Te=(e,t)=>{c.self=e,c.lastDateEl=t,L(),e.disableDatesGaps&&(c.rangeMin=c.rangeMin?c.rangeMin:e.context.displayDateMin,c.rangeMax=c.rangeMax?c.rangeMax:e.context.displayDateMax),e.onCreateDateRangeTooltip&&(c.tooltipEl=e.context.mainElement.querySelector("[data-vc-date-range-tooltip]"));const n=t==null?void 0:t.dataset.vcDate;if(n){const o=e.context.selectedDates.length===1&&e.context.selectedDates[0].includes(n),a=o&&!Z(e)?[n,n]:o&&Z(e)?[]:e.context.selectedDates.length>1?[n]:[...e.context.selectedDates,n];h(e,"selectedDates",a),e.context.selectedDates.length>1&&e.context.selectedDates.sort(((l,r)=>+new Date(l)-+new Date(r)))}({set:()=>(e.disableDatesGaps&&Kt(),x(c.self,c.tooltipEl,t),c.self.context.mainElement.removeEventListener("mousemove",P),c.self.context.mainElement.removeEventListener("mouseleave",w),c.self.context.mainElement.removeEventListener("keydown",S),c.self.context.mainElement.addEventListener("mousemove",I),c.self.context.mainElement.addEventListener("mouseleave",w),c.self.context.mainElement.addEventListener("keydown",S),()=>{c.self.context.mainElement.removeEventListener("mousemove",I),c.self.context.mainElement.removeEventListener("mouseleave",w),c.self.context.mainElement.removeEventListener("keydown",S)}),reset:()=>{const[o,a]=[e.context.selectedDates[0],e.context.selectedDates[e.context.selectedDates.length-1]],l=e.context.selectedDates[0]!==e.context.selectedDates[e.context.selectedDates.length-1],r=b([`${o}:${a}`]).filter((i=>!e.context.disableDates.includes(i))),s=l?e.enableEdgeDatesOnly?[o,a]:r:[e.context.selectedDates[0],e.context.selectedDates[0]];if(h(e,"selectedDates",s),e.disableDatesGaps&&(h(e,"displayDateMin",c.rangeMin),h(e,"displayDateMax",c.rangeMax)),c.self.context.mainElement.removeEventListener("mousemove",I),c.self.context.mainElement.removeEventListener("mouseleave",w),c.self.context.mainElement.removeEventListener("keydown",S),e.onCreateDateRangeTooltip)return e.context.selectedDates[0]||(c.self.context.mainElement.removeEventListener("mousemove",P),c.self.context.mainElement.removeEventListener("mouseleave",w),x(c.self,c.tooltipEl,null)),e.context.selectedDates[0]&&(c.self.context.mainElement.addEventListener("mousemove",P),c.self.context.mainElement.addEventListener("mouseleave",w),x(c.self,c.tooltipEl,t)),()=>{c.self.context.mainElement.removeEventListener("mousemove",P),c.self.context.mainElement.removeEventListener("mouseleave",w)}}})[e.context.selectedDates.length===1?"set":"reset"]()},K=e=>{e.context.mainElement.querySelectorAll("[data-vc-date]").forEach((t=>{const n=t.querySelector("[data-vc-date-btn]"),o=t.dataset.vcDate,a=v(o).getDay();be(e,e.context.selectedYear,t,n,a,o,"current")}))},jt=(e,t)=>{var n;const o=t.target,a=o.closest("[data-vc-date-btn]");if(!e.selectionDatesMode||!["single","multiple","multiple-ranged"].includes(e.selectionDatesMode)||!a)return;const l=a.closest("[data-vc-date]");({single:()=>ye(e,l,!1),multiple:()=>ye(e,l,!0),"multiple-ranged":()=>Te(e,l)})[e.selectionDatesMode](),(n=e.context.selectedDates)==null||n.sort(((i,d)=>+new Date(i)-+new Date(d))),e.onClickDate&&e.onClickDate(e,t),e.inputMode&&e.context.inputElement&&e.context.mainElement&&e.onChangeToInput&&e.onChangeToInput(e,t);const r=o.closest('[data-vc-date-month="prev"]'),s=o.closest('[data-vc-date-month="next"]');({prev:()=>e.enableMonthChangeOnDayClick?V(e,"prev"):K(e),next:()=>e.enableMonthChangeOnDayClick?V(e,"next"):K(e),current:()=>K(e)})[r?"prev":s?"next":"current"]()},Ut=["month","year"],ke=(e,t,n)=>{const{currentValue:o,columnID:a}=ae(e,t);return e.context.currentType==="month"&&a>=0?n-a:e.context.currentType==="year"&&e.context.selectedYear!==o?n-1:n},Bt=(e,t)=>{const n=ke(e,"year",Number(t.dataset.vcYearsYear)),o=v(e.context.dateMin),a=v(e.context.dateMax),l=e.context.displayMonthsCount-1,{columnID:r}=ae(e,"year"),s=e.context.selectedMonth<o.getMonth()&&n<=o.getFullYear(),i=e.context.selectedMonth>a.getMonth()-l+r&&n>=a.getFullYear(),d=n<o.getFullYear(),u=n>a.getFullYear(),p=s||d?o.getFullYear():i||u?a.getFullYear():n,y=s||d?o.getMonth():i||u?a.getMonth()-l+r:e.context.selectedMonth;h(e,"selectedYear",p),h(e,"selectedMonth",y)},Vt=(e,t)=>{const n=t.closest('[data-vc-column="month"]').querySelector('[data-vc="year"]'),o=ke(e,"month",Number(t.dataset.vcMonthsMonth)),a=Number(n.dataset.vcYear),l=v(e.context.dateMin),r=v(e.context.dateMax),s=o<l.getMonth()&&a<=l.getFullYear(),i=o>r.getMonth()&&a>=r.getFullYear();h(e,"selectedYear",a),h(e,"selectedMonth",s?l.getMonth():i?r.getMonth():o)},Zt=(e,t,n,o)=>{var a;({year:()=>{if(e.type==="multiple")return Bt(e,o);h(e,"selectedYear",Number(o.dataset.vcYearsYear))},month:()=>{if(e.type==="multiple")return Vt(e,o);h(e,"selectedMonth",Number(o.dataset.vcMonthsMonth))}})[n](),{year:()=>{var l;return(l=e.onClickYear)==null?void 0:l.call(e,e,t)},month:()=>{var l;return(l=e.onClickMonth)==null?void 0:l.call(e,e,t)}}[n](),e.context.currentType!==e.type?(h(e,"currentType",e.type),R(e),(a=e.context.mainElement.querySelector(`[data-vc="${n}"]`))==null||a.focus()):ne(e,o,n,!0,!0)},Gt=(e,t,n)=>{var o;const a=t.target,l=a.closest(`[data-vc="${n}"]`),r={year:()=>oe(e,a),month:()=>De(e,a)};if(l&&e.onClickTitle&&e.onClickTitle(e,t),l&&e.context.currentType!==n)return r[n]();const s=a.closest(`[data-vc-${n}s-${n}]`);if(s)return Zt(e,t,n,s);const i=a.closest('[data-vc="grid"]'),d=a.closest('[data-vc="column"]');(e.context.currentType===n&&l||e.type==="multiple"&&e.context.currentType===n&&i&&!d)&&(h(e,"currentType",e.type),R(e),(o=e.context.mainElement.querySelector(`[data-vc="${n}"]`))==null||o.focus())},Jt=(e,t)=>{const n={month:e.selectionMonthsMode,year:e.selectionYearsMode};Ut.forEach((o=>{n[o]&&t.target&&Gt(e,t,o)}))},Xt=(e,t)=>{if(!e.enableWeekNumbers||!e.onClickWeekNumber)return;const n=t.target.closest("[data-vc-week-number]"),o=e.context.mainElement.querySelectorAll("[data-vc-date-week-number]");if(!n||!o[0])return;const a=Number(n.innerText),l=Number(n.dataset.vcWeekYear),r=Array.from(o).filter((s=>Number(s.dataset.vcDateWeekNumber)===a));e.onClickWeekNumber(e,a,l,r,t)},Qt=(e,t)=>{if(!e.onClickWeekDay)return;const n=t.target.closest("[data-vc-week-day]"),o=t.target.closest('[data-vc="column"]'),a=o?o.querySelectorAll("[data-vc-date-week-day]"):e.context.mainElement.querySelectorAll("[data-vc-date-week-day]");if(!n||!a[0])return;const l=Number(n.dataset.vcWeekDay),r=Array.from(a).filter((s=>Number(s.dataset.vcDateWeekDay)===l));e.onClickWeekDay(e,l,r,t)},Ce=e=>{const t=n=>{qt(e,n),Qt(e,n),Xt(e,n),jt(e,n),Jt(e,n)};return e.context.mainElement.addEventListener("click",t),()=>e.context.mainElement.removeEventListener("click",t)},en=e=>{if(e.type==="multiple"&&(e.displayMonthsCount<=1||e.displayMonthsCount>12))throw new Error(f.incorrectMonthsCount);if(e.type!=="multiple"&&e.displayMonthsCount>1)throw new Error(f.incorrectMonthsCount);h(e,"displayMonthsCount",e.displayMonthsCount?e.displayMonthsCount:e.type==="multiple"?2:1)},tn=()=>{const e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().substring(0,10)},E=(e,t)=>e==="today"?tn():e instanceof Date||typeof e=="number"||typeof e=="string"?b([e])[0]:t,nn=e=>{var t,n,o;const a=E(e.dateMin,e.dateMin),l=E(e.dateMax,e.dateMax),r=E(e.displayDateMin,a),s=E(e.displayDateMax,l);h(e,"dateToday",E(e.dateToday,e.dateToday)),h(e,"displayDateMin",r?v(a)>=v(r)?a:r:a),h(e,"displayDateMax",s?v(l)<=v(s)?l:s:l);const i=e.disableDatesPast&&!e.disableAllDates&&v(r)<v(e.context.dateToday);h(e,"displayDateMin",i||e.disableAllDates?e.context.dateToday:r),h(e,"displayDateMax",e.disableAllDates?e.context.dateToday:s),h(e,"disableDates",e.disableDates[0]&&!e.disableAllDates?b(e.disableDates):e.disableAllDates?[e.context.displayDateMin]:[]),e.context.disableDates.length>1&&e.context.disableDates.sort(((d,u)=>+new Date(d)-+new Date(u))),h(e,"enableDates",e.enableDates[0]?b(e.enableDates):[]),(t=e.context.enableDates)!=null&&t[0]&&((n=e.context.disableDates)!=null&&n[0])&&h(e,"disableDates",e.context.disableDates.filter((d=>!e.context.enableDates.includes(d)))),e.context.enableDates.length>1&&e.context.enableDates.sort(((d,u)=>+new Date(d)-+new Date(u))),(o=e.context.enableDates)!=null&&o[0]&&e.disableAllDates&&(h(e,"displayDateMin",e.context.enableDates[0]),h(e,"displayDateMax",e.context.enableDates[e.context.enableDates.length-1])),h(e,"dateMin",e.displayDisabledDates?a:e.context.displayDateMin),h(e,"dateMax",e.displayDisabledDates?l:e.context.displayDateMax)},an=e=>{var t;h(e,"selectedDates",(t=e.selectedDates)!=null&&t[0]?b(e.selectedDates):[])},on=e=>{const t=a=>{const l=new Date(a);G(e,l.getMonth(),l.getFullYear())};if(e.displayDateMin&&e.displayDateMin!=="today"&&(n=e.displayDateMin,o=new Date,new Date(n).getTime()>o.getTime())){const a=e.selectedDates.length&&e.selectedDates[0]?b(e.selectedDates)[0]:e.displayDateMin;return t(v(E(a,e.displayDateMin))),!0}var n,o;if(e.displayDateMax&&e.displayDateMax!=="today"&&((a,l)=>new Date(a).getTime()<l.getTime())(e.displayDateMax,new Date)){const a=e.selectedDates.length&&e.selectedDates[0]?b(e.selectedDates)[0]:e.displayDateMax;return t(v(E(a,e.displayDateMax))),!0}return!1},G=(e,t,n)=>{h(e,"selectedMonth",t),h(e,"selectedYear",n),h(e,"displayYear",n)},ln=e=>{var t;if(e.enableJumpToSelectedDate&&((t=e.selectedDates)!=null&&t[0])&&e.selectedMonth===void 0&&e.selectedYear===void 0){const a=v(b(e.selectedDates)[0]);return void G(e,a.getMonth(),a.getFullYear())}if(on(e))return;const n=e.selectedMonth!==void 0&&Number(e.selectedMonth)>=0&&Number(e.selectedMonth)<12,o=e.selectedYear!==void 0&&Number(e.selectedYear)>=0&&Number(e.selectedYear)<=9999;G(e,n?Number(e.selectedMonth):v(e.context.dateToday).getMonth(),o?Number(e.selectedYear):v(e.context.dateToday).getFullYear())},sn=e=>{var t,n,o;if(!e.selectionTimeMode)return;if(![12,24].includes(e.selectionTimeMode))throw new Error(f.incorrectTime);const a=e.selectionTimeMode===12,l=a?/^(0[1-9]|1[0-2]):([0-5][0-9]) ?(AM|PM)?$/i:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])$/;let[r,s,i]=(o=(n=(t=e.selectedTime)==null?void 0:t.match(l))==null?void 0:n.slice(1))!=null?o:[];r?a&&!i&&(i="AM"):(r=a?Y(String(e.timeMinHour)):String(e.timeMinHour),s=String(e.timeMinMinute),i=a?Number(Y(String(e.timeMinHour)))>=12?"PM":"AM":null),h(e,"selectedHours",r.padStart(2,"0")),h(e,"selectedMinutes",s.padStart(2,"0")),h(e,"selectedKeeping",i),h(e,"selectedTime",`${e.context.selectedHours}:${e.context.selectedMinutes}${i?` ${i}`:""}`)},$e=e=>{h(e,"currentType",e.type),en(e),nn(e),ln(e),an(e),sn(e)},Se=(e,{year:t,month:n,dates:o,time:a,locale:l},r=!0)=>{var s;const i={year:e.selectedYear,month:e.selectedMonth,dates:e.selectedDates,time:e.selectedTime};e.selectedYear=t?i.year:e.context.selectedYear,e.selectedMonth=n?i.month:e.context.selectedMonth,e.selectedTime=a?i.time:e.context.selectedTime,e.selectedDates=o==="only-first"&&((s=e.context.selectedDates)!=null&&s[0])?[e.context.selectedDates[0]]:o===!0?i.dates:e.context.selectedDates,l&&h(e,"locale",{months:{short:[],long:[]},weekdays:{short:[],long:[]}}),$e(e),r&&R(e),e.selectedYear=i.year,e.selectedMonth=i.month,e.selectedDates=i.dates,e.selectedTime=i.time,e.selectionDatesMode==="multiple-ranged"&&o&&Te(e,null)},rn=e=>{const t=document.createElement("div");return t.className=e.styles.calendar,t.dataset.vc="calendar",t.dataset.vcInput="",t.dataset.vcCalendarHidden="",h(e,"inputModeInit",!0),h(e,"isShowInInputMode",!1),h(e,"mainElement",t),document.body.appendChild(e.context.mainElement),Se(e,{year:!0,month:!0,dates:!0,time:!0,locale:!0}),setTimeout((()=>se(e))),e.onInit&&e.onInit(e),we(e),Ce(e)},cn=e=>{h(e,"inputElement",e.context.mainElement);const t=()=>{e.context.inputModeInit?setTimeout((()=>se(e))):rn(e)};return e.context.inputElement.addEventListener("click",t),e.context.inputElement.addEventListener("focus",t),()=>{e.context.inputElement.removeEventListener("click",t),e.context.inputElement.removeEventListener("focus",t)}},dn=e=>(h(e,"originalElement",e.context.mainElement.cloneNode(!0)),h(e,"isInit",!0),e.inputMode?cn(e):($e(e),R(e),e.onInit&&e.onInit(e),we(e),Ce(e))),Ae=(e,t)=>{if(!e.context.isInit)throw new Error(f.notInit);Se(e,C(C({},{year:!0,month:!0,dates:!0,time:!0,locale:!0}),t),!(e.inputMode&&!e.context.inputModeInit)),e.onUpdate&&e.onUpdate(e)},le=(e,t)=>{const n=Object.keys(t);for(let o=0;o<n.length;o++){const a=n[o];typeof e[a]!="object"||typeof t[a]!="object"||t[a]instanceof Date||Array.isArray(t[a])?t[a]!==void 0&&(e[a]=t[a]):le(e[a],t[a])}},un=(e,t,n)=>{le(e,t),e.context.isInit&&Ae(e,n)};function mn(e,t){const n="left";if(!t||!e)return n;const{canShow:o,parentPositions:a}=xe(e,t),l=o.left&&o.right;return(l&&o.bottom?"center":l&&o.top?["top","center"]:Array.isArray(a)?[a[0]==="bottom"?"top":"bottom",...a.slice(1)]:a)||n}const ge=(e,t,n)=>{if(!e)return;const o=n==="auto"?mn(e,t):n,a={top:-t.offsetHeight,bottom:e.offsetHeight,left:0,center:e.offsetWidth/2-t.offsetWidth/2,right:e.offsetWidth-t.offsetWidth},l=Array.isArray(o)?o[0]:"bottom",r=Array.isArray(o)?o[1]:o;t.dataset.vcPosition=l;const{top:s,left:i}=X(e),d=s+a[l];let u=i+a[r];const{vw:p}=Q();if(u+t.clientWidth>p){const y=window.innerWidth-document.body.clientWidth;u=p-t.clientWidth-y}else u<0&&(u=0);Object.assign(t.style,{left:`${u}px`,top:`${d}px`})},se=e=>{if(e.context.isShowInInputMode)return;if(!e.context.currentType)return void e.context.mainElement.click();h(e,"cleanupHandlers",[]),h(e,"isShowInInputMode",!0),ge(e.context.inputElement,e.context.mainElement,e.positionToInput),e.context.mainElement.removeAttribute("data-vc-calendar-hidden");const t=()=>{ge(e.context.inputElement,e.context.mainElement,e.positionToInput)};window.addEventListener("resize",t),e.context.cleanupHandlers.push((()=>window.removeEventListener("resize",t)));const n=a=>{a.key==="Escape"&&U(e)};document.addEventListener("keydown",n),e.context.cleanupHandlers.push((()=>document.removeEventListener("keydown",n)));const o=a=>{a.target===e.context.inputElement||e.context.mainElement.contains(a.target)||U(e)};document.addEventListener("click",o,{capture:!0}),e.context.cleanupHandlers.push((()=>document.removeEventListener("click",o,{capture:!0}))),e.onShow&&e.onShow(e)},hn={application:"Calendar",navigation:"Calendar Navigation",arrowNext:{month:"Next month",year:"Next list of years"},arrowPrev:{month:"Previous month",year:"Previous list of years"},month:"Select month, current selected month:",months:"List of months",year:"Select year, current selected year:",years:"List of years",week:"Days of the week",weekNumber:"Numbers of weeks in a year",dates:"Dates in the current month",selectingTime:"Selecting a time ",inputHour:"Hours",inputMinute:"Minutes",rangeHour:"Slider for selecting hours",rangeMinute:"Slider for selecting minutes",btnKeeping:"Switch AM/PM, current position:"},vn={calendar:"vc",controls:"vc-controls",grid:"vc-grid",column:"vc-column",header:"vc-header",headerContent:"vc-header__content",month:"vc-month",year:"vc-year",arrowPrev:"vc-arrow vc-arrow_prev",arrowNext:"vc-arrow vc-arrow_next",wrapper:"vc-wrapper",content:"vc-content",months:"vc-months",monthsMonth:"vc-months__month",years:"vc-years",yearsYear:"vc-years__year",week:"vc-week",weekDay:"vc-week__day",weekNumbers:"vc-week-numbers",weekNumbersTitle:"vc-week-numbers__title",weekNumbersContent:"vc-week-numbers__content",weekNumber:"vc-week-number",dates:"vc-dates",date:"vc-date",dateBtn:"vc-date__btn",datePopup:"vc-date__popup",dateRangeTooltip:"vc-date-range-tooltip",time:"vc-time",timeContent:"vc-time__content",timeHour:"vc-time__hour",timeMinute:"vc-time__minute",timeKeeping:"vc-time__keeping",timeRanges:"vc-time__ranges",timeRange:"vc-time__range"};class pn{constructor(){m(this,"type","default"),m(this,"inputMode",!1),m(this,"positionToInput","left"),m(this,"firstWeekday",1),m(this,"monthsToSwitch",1),m(this,"themeAttrDetect","html[data-theme]"),m(this,"locale","en"),m(this,"dateToday","today"),m(this,"dateMin","1970-01-01"),m(this,"dateMax","2470-12-31"),m(this,"displayDateMin"),m(this,"displayDateMax"),m(this,"displayDatesOutside",!0),m(this,"displayDisabledDates",!1),m(this,"displayMonthsCount"),m(this,"disableDates",[]),m(this,"disableAllDates",!1),m(this,"disableDatesPast",!1),m(this,"disableDatesGaps",!1),m(this,"disableWeekdays",[]),m(this,"disableToday",!1),m(this,"enableDates",[]),m(this,"enableEdgeDatesOnly",!0),m(this,"enableDateToggle",!0),m(this,"enableWeekNumbers",!1),m(this,"enableMonthChangeOnDayClick",!0),m(this,"enableJumpToSelectedDate",!1),m(this,"selectionDatesMode","single"),m(this,"selectionMonthsMode",!0),m(this,"selectionYearsMode",!0),m(this,"selectionTimeMode",!1),m(this,"selectedDates",[]),m(this,"selectedMonth"),m(this,"selectedYear"),m(this,"selectedHolidays",[]),m(this,"selectedWeekends",[0,6]),m(this,"selectedTime"),m(this,"selectedTheme","system"),m(this,"timeMinHour",0),m(this,"timeMaxHour",23),m(this,"timeMinMinute",0),m(this,"timeMaxMinute",59),m(this,"timeControls","all"),m(this,"timeStepHour",1),m(this,"timeStepMinute",1),m(this,"sanitizerHTML",(t=>t)),m(this,"onClickDate"),m(this,"onClickWeekDay"),m(this,"onClickWeekNumber"),m(this,"onClickTitle"),m(this,"onClickMonth"),m(this,"onClickYear"),m(this,"onClickArrow"),m(this,"onChangeTime"),m(this,"onChangeToInput"),m(this,"onCreateDateRangeTooltip"),m(this,"onCreateDateEls"),m(this,"onCreateMonthEls"),m(this,"onCreateYearEls"),m(this,"onInit"),m(this,"onUpdate"),m(this,"onDestroy"),m(this,"onShow"),m(this,"onHide"),m(this,"popups",{}),m(this,"labels",C({},hn)),m(this,"layouts",{default:"",multiple:"",month:"",year:""}),m(this,"styles",C({},vn))}}const Ye=class J extends pn{constructor(t,n){var o;super(),m(this,"init",(()=>dn(this))),m(this,"update",(a=>Ae(this,a))),m(this,"destroy",(()=>Be(this))),m(this,"show",(()=>se(this))),m(this,"hide",(()=>U(this))),m(this,"set",((a,l)=>un(this,a,l))),m(this,"context"),this.context=Ue(C({},this.context),{locale:{months:{short:[],long:[]},weekdays:{short:[],long:[]}}}),h(this,"mainElement",typeof t=="string"?(o=J.memoizedElements.get(t))!=null?o:this.queryAndMemoize(t):t),n&&le(this,n)}queryAndMemoize(t){const n=document.querySelector(t);if(!n)throw new Error(f.notFoundSelector(t));return J.memoizedElements.set(t,n),n}};m(Ye,"memoizedElements",new Map);let yn=Ye;var gn=We('<div class="mx-3 mb-3"><div></div><div class="border-secondary-15 flex w-full justify-end gap-3 border-t border-dashed pt-5"><button type=button class="button primary"style=--w:100%>Save</button><button type=button class="button secondary"style=--w:100%>Cancel');function bn(e){let t,n;return Le(()=>{n=new yn(t,e.cal.options),n.init()}),Ne(()=>{n.destroy()}),He(Fe,{get Icon(){return Ie({name:"calendar"})},title:"Date Picker",get onClose(){return e.hide},get children(){var o=gn(),a=o.firstChild,l=a.nextSibling,r=l.firstChild,s=r.nextSibling,i=t;return typeof i=="function"?_e(i,a):t=a,r.$$click=()=>{e.cal.onSave(),e.hide()},Pe(s,"click",e.hide,!0),o}})}qe(["click"]);export{bn as default};
